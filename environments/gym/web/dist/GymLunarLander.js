import{useCallback as C,useState as P}from"react";import{useDocumentKeypressListener as D,usePressedKeys as L,PlayObserver as O,useRealTimeUpdate as S,TEACHER_ACTOR_CLASS as _,OBSERVER_ACTOR_CLASS as v,DPad as y,useDPadPressedButtons as g,DPAD_BUTTONS as s,Button as h,FpsCounter as U,KeyboardControlList as x,serializePlayerAction as o,TEACHER_NOOP_ACTION as F,Space as I,SimplePlay as H}from"@cogment/cogment-verse";import{jsx as r,jsxs as A}from"react/jsx-runtime";var b=[],G=[s.UP],u=new I({discrete:{n:4}}),K=({sendAction:e,fps:l=20,actorParams:d,...p})=>{let i=d?.className===_,[c,f]=P(!1),T=C(()=>f(m=>!m),[f]);D("p",T);let a=L(),{pressedButtons:N,isButtonPressed:n,setPressedButtons:E}=g(),[B,t]=P([]),R=C(m=>{if(a.has("ArrowRight")||n(s.RIGHT)){t([s.RIGHT]),e(o(u,1));return}else if(a.has("ArrowDown")||n(s.DOWN)){t([s.DOWN]),e(o(u,2));return}else if(a.has("ArrowLeft")||n(s.LEFT)){t([s.LEFT]),e(o(u,3));return}else if(i){if(a.has("ArrowUp")||n(s.UP)){t([s.UP]),e(o(u,0));return}t([]),e(F);return}t([]),e(o(u,0))},[n,a,e,t,i]),{currentFps:w}=S(R,l,c);return A("div",{...p,children:[r("div",{className:"flex flex-row p-5 justify-center",children:r(y,{pressedButtons:N,onPressedButtonsChange:E,activeButtons:B,disabled:c||(i?b:G)})}),A("div",{className:"flex flex-row gap-1",children:[r(h,{className:"flex-1",onClick:T,children:c?"Resume":"Pause"}),r(U,{className:"flex-none w-fit",value:w})]}),r(x,{items:[["Left/Right Arrows","Fire left/right engine"],["Down Arrow","Fire the main engine"],i?["Up Arrow","turn off engine"]:null,["p","Pause/Unpause"]]})]})},V=({actorParams:e,...l})=>e?.className===v?r(O,{actorParams:e,...l}):r(H,{actorParams:e,...l,controls:K}),j=V;export{j as default};
//# sourceMappingURL=GymLunarLander.js.map
