import{useCallback as P,useState as f}from"react";import{useDocumentKeypressListener as O,usePressedKeys as S,PlayObserver as _,useRealTimeUpdate as v,TEACHER_ACTOR_CLASS as w,OBSERVER_ACTOR_CLASS as h,DPad as y,useDPadPressedButtons as L,DPAD_BUTTONS as s,Button as g,FpsCounter as x,KeyboardControlList as U,serializePlayerAction as c,TEACHER_NOOP_ACTION as I,Space as H,SimplePlay as b}from"@cogment/cogment-verse";import{jsx as t,jsxs as m}from"react/jsx-runtime";var F=[s.UP],K=[s.UP,s.DOWN],u=new H({discrete:{n:3}}),V=({sendAction:e,fps:o=30,actorParams:C,...N})=>{let r=C?.className===w,[i,T]=f(!1),d=P(()=>T(A=>!A),[T]);O("p",d);let n=S(),{pressedButtons:p,isButtonPressed:l,setPressedButtons:E}=L(),[B,a]=f([]),D=P(A=>{n.has("ArrowLeft")||l(s.LEFT)?(a([s.LEFT]),e(c(u,0))):n.has("ArrowRight")||l(s.RIGHT)?(a([s.RIGHT]),e(c(u,2))):r?n.has("ArrowDown")||l(s.DOWN)?(a([s.DOWN]),e(c(u,1))):(a([]),e(I)):(a([]),e(c(u,1)))},[l,r,n,e]),{currentFps:R}=v(D,o,i);return m("div",{...N,children:[t("div",{className:"flex flex-row p-5 justify-center",children:t(y,{pressedButtons:p,onPressedButtonsChange:E,activeButtons:B,disabled:i||(r?F:K)})}),m("div",{className:"flex flex-row gap-1",children:[t(g,{className:"flex-1",onClick:d,children:i?"Resume":"Pause"}),t(x,{className:"flex-none w-fit",value:R})]}),t(U,{items:[["Left/Right Arrows","Accelerate to the left/right"],r?["Down Arrow","Don't accelerate"]:null,["p","Pause/Unpause"]]})]})},W=({actorParams:e,...o})=>e?.className===h?t(_,{actorParams:e,...o}):t(b,{actorParams:e,...o,controls:V}),Y=W;export{V as MountainCarControls,Y as default};
//# sourceMappingURL=MountainCar.js.map
