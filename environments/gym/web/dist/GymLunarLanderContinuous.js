var rr=Object.create;var ct=Object.defineProperty;var ir=Object.getOwnPropertyDescriptor;var or=Object.getOwnPropertyNames;var ar=Object.getPrototypeOf,lr=Object.prototype.hasOwnProperty;var z=(o=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(o,{get:(r,c)=>(typeof require<"u"?require:r)[c]}):o)(function(o){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+o+'" is not supported')});var w=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);var cr=(o,r,c,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let l of or(r))!lr.call(o,l)&&l!==c&&ct(o,l,{get:()=>r[l],enumerable:!(u=ir(r,l))||u.enumerable});return o};var M=(o,r,c)=>(c=o!=null?rr(ar(o)):{},cr(r||!o||!o.__esModule?ct(c,"default",{value:o,enumerable:!0}):c,o));var oe=w((qi,_e)=>{(function(){"use strict";var o={}.hasOwnProperty,r="[native code]";function c(){for(var u=[],l=0;l<arguments.length;l++){var d=arguments[l];if(d){var f=typeof d;if(f==="string"||f==="number")u.push(d);else if(Array.isArray(d)){if(d.length){var a=c.apply(null,d);a&&u.push(a)}}else if(f==="object"){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){u.push(d.toString());continue}for(var n in d)o.call(d,n)&&d[n]&&u.push(n)}}}return u.join(" ")}typeof _e<"u"&&_e.exports?(c.default=c,_e.exports=c):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return c}):window.classNames=c})()});var Kt=w((co,Yt)=>{"use strict";Yt.exports=ei;function ei(o,r){for(var c=new Array(arguments.length-1),u=0,l=2,d=!0;l<arguments.length;)c[u++]=arguments[l++];return new Promise(function(a,n){c[u]=function(t){if(d)if(d=!1,t)n(t);else{for(var i=new Array(arguments.length-1),s=0;s<i.length;)i[s++]=arguments[s];a.apply(null,i)}};try{o.apply(r||null,c)}catch(e){d&&(d=!1,n(e))}})}});var Xt=w(Gt=>{"use strict";var ge=Gt;ge.length=function(r){var c=r.length;if(!c)return 0;for(var u=0;--c%4>1&&r.charAt(c)==="=";)++u;return Math.ceil(r.length*3)/4-u};var G=new Array(64),$t=new Array(123);for(A=0;A<64;)$t[G[A]=A<26?A+65:A<52?A+71:A<62?A-4:A-59|43]=A++;var A;ge.encode=function(r,c,u){for(var l=null,d=[],f=0,a=0,n;c<u;){var e=r[c++];switch(a){case 0:d[f++]=G[e>>2],n=(e&3)<<4,a=1;break;case 1:d[f++]=G[n|e>>4],n=(e&15)<<2,a=2;break;case 2:d[f++]=G[n|e>>6],d[f++]=G[e&63],a=0;break}f>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,d)),f=0)}return a&&(d[f++]=G[n],d[f++]=61,a===1&&(d[f++]=61)),l?(f&&l.push(String.fromCharCode.apply(String,d.slice(0,f))),l.join("")):String.fromCharCode.apply(String,d.slice(0,f))};var qt="invalid encoding";ge.decode=function(r,c,u){for(var l=u,d=0,f,a=0;a<r.length;){var n=r.charCodeAt(a++);if(n===61&&d>1)break;if((n=$t[n])===void 0)throw Error(qt);switch(d){case 0:f=n,d=1;break;case 1:c[u++]=f<<2|(n&48)>>4,f=n,d=2;break;case 2:c[u++]=(f&15)<<4|(n&60)>>2,f=n,d=3;break;case 3:c[u++]=(f&3)<<6|n,d=0;break}}if(d===1)throw Error(qt);return u-l};ge.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}});var Qt=w((so,Zt)=>{"use strict";Zt.exports=Ee;function Ee(){this._listeners={}}Ee.prototype.on=function(r,c,u){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:c,ctx:u||this}),this};Ee.prototype.off=function(r,c){if(r===void 0)this._listeners={};else if(c===void 0)this._listeners[r]=[];else for(var u=this._listeners[r],l=0;l<u.length;)u[l].fn===c?u.splice(l,1):++l;return this};Ee.prototype.emit=function(r){var c=this._listeners[r];if(c){for(var u=[],l=1;l<arguments.length;)u.push(arguments[l++]);for(l=0;l<c.length;)c[l].fn.apply(c[l++].ctx,u)}return this}});var ln=w((fo,an)=>{"use strict";an.exports=en(en);function en(o){return typeof Float32Array<"u"?function(){var r=new Float32Array([-0]),c=new Uint8Array(r.buffer),u=c[3]===128;function l(n,e,t){r[0]=n,e[t]=c[0],e[t+1]=c[1],e[t+2]=c[2],e[t+3]=c[3]}function d(n,e,t){r[0]=n,e[t]=c[3],e[t+1]=c[2],e[t+2]=c[1],e[t+3]=c[0]}o.writeFloatLE=u?l:d,o.writeFloatBE=u?d:l;function f(n,e){return c[0]=n[e],c[1]=n[e+1],c[2]=n[e+2],c[3]=n[e+3],r[0]}function a(n,e){return c[3]=n[e],c[2]=n[e+1],c[1]=n[e+2],c[0]=n[e+3],r[0]}o.readFloatLE=u?f:a,o.readFloatBE=u?a:f}():function(){function r(u,l,d,f){var a=l<0?1:0;if(a&&(l=-l),l===0)u(1/l>0?0:2147483648,d,f);else if(isNaN(l))u(2143289344,d,f);else if(l>34028234663852886e22)u((a<<31|2139095040)>>>0,d,f);else if(l<11754943508222875e-54)u((a<<31|Math.round(l/1401298464324817e-60))>>>0,d,f);else{var n=Math.floor(Math.log(l)/Math.LN2),e=Math.round(l*Math.pow(2,-n)*8388608)&8388607;u((a<<31|n+127<<23|e)>>>0,d,f)}}o.writeFloatLE=r.bind(null,tn),o.writeFloatBE=r.bind(null,nn);function c(u,l,d){var f=u(l,d),a=(f>>31)*2+1,n=f>>>23&255,e=f&8388607;return n===255?e?NaN:a*(1/0):n===0?a*1401298464324817e-60*e:a*Math.pow(2,n-150)*(e+8388608)}o.readFloatLE=c.bind(null,rn),o.readFloatBE=c.bind(null,on)}(),typeof Float64Array<"u"?function(){var r=new Float64Array([-0]),c=new Uint8Array(r.buffer),u=c[7]===128;function l(n,e,t){r[0]=n,e[t]=c[0],e[t+1]=c[1],e[t+2]=c[2],e[t+3]=c[3],e[t+4]=c[4],e[t+5]=c[5],e[t+6]=c[6],e[t+7]=c[7]}function d(n,e,t){r[0]=n,e[t]=c[7],e[t+1]=c[6],e[t+2]=c[5],e[t+3]=c[4],e[t+4]=c[3],e[t+5]=c[2],e[t+6]=c[1],e[t+7]=c[0]}o.writeDoubleLE=u?l:d,o.writeDoubleBE=u?d:l;function f(n,e){return c[0]=n[e],c[1]=n[e+1],c[2]=n[e+2],c[3]=n[e+3],c[4]=n[e+4],c[5]=n[e+5],c[6]=n[e+6],c[7]=n[e+7],r[0]}function a(n,e){return c[7]=n[e],c[6]=n[e+1],c[5]=n[e+2],c[4]=n[e+3],c[3]=n[e+4],c[2]=n[e+5],c[1]=n[e+6],c[0]=n[e+7],r[0]}o.readDoubleLE=u?f:a,o.readDoubleBE=u?a:f}():function(){function r(u,l,d,f,a,n){var e=f<0?1:0;if(e&&(f=-f),f===0)u(0,a,n+l),u(1/f>0?0:2147483648,a,n+d);else if(isNaN(f))u(0,a,n+l),u(2146959360,a,n+d);else if(f>17976931348623157e292)u(0,a,n+l),u((e<<31|2146435072)>>>0,a,n+d);else{var t;if(f<22250738585072014e-324)t=f/5e-324,u(t>>>0,a,n+l),u((e<<31|t/4294967296)>>>0,a,n+d);else{var i=Math.floor(Math.log(f)/Math.LN2);i===1024&&(i=1023),t=f*Math.pow(2,-i),u(t*4503599627370496>>>0,a,n+l),u((e<<31|i+1023<<20|t*1048576&1048575)>>>0,a,n+d)}}}o.writeDoubleLE=r.bind(null,tn,0,4),o.writeDoubleBE=r.bind(null,nn,4,0);function c(u,l,d,f,a){var n=u(f,a+l),e=u(f,a+d),t=(e>>31)*2+1,i=e>>>20&2047,s=4294967296*(e&1048575)+n;return i===2047?s?NaN:t*(1/0):i===0?t*5e-324*s:t*Math.pow(2,i-1075)*(s+4503599627370496)}o.readDoubleLE=c.bind(null,rn,0,4),o.readDoubleBE=c.bind(null,on,4,0)}(),o}function tn(o,r,c){r[c]=o&255,r[c+1]=o>>>8&255,r[c+2]=o>>>16&255,r[c+3]=o>>>24}function nn(o,r,c){r[c]=o>>>24,r[c+1]=o>>>16&255,r[c+2]=o>>>8&255,r[c+3]=o&255}function rn(o,r){return(o[r]|o[r+1]<<8|o[r+2]<<16|o[r+3]<<24)>>>0}function on(o,r){return(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3])>>>0}});var cn=w((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}});var sn=w(un=>{"use strict";var We=un;We.length=function(r){for(var c=0,u=0,l=0;l<r.length;++l)u=r.charCodeAt(l),u<128?c+=1:u<2048?c+=2:(u&64512)===55296&&(r.charCodeAt(l+1)&64512)===56320?(++l,c+=4):c+=3;return c};We.read=function(r,c,u){var l=u-c;if(l<1)return"";for(var d=null,f=[],a=0,n;c<u;)n=r[c++],n<128?f[a++]=n:n>191&&n<224?f[a++]=(n&31)<<6|r[c++]&63:n>239&&n<365?(n=((n&7)<<18|(r[c++]&63)<<12|(r[c++]&63)<<6|r[c++]&63)-65536,f[a++]=55296+(n>>10),f[a++]=56320+(n&1023)):f[a++]=(n&15)<<12|(r[c++]&63)<<6|r[c++]&63,a>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,f)),a=0);return d?(a&&d.push(String.fromCharCode.apply(String,f.slice(0,a))),d.join("")):String.fromCharCode.apply(String,f.slice(0,a))};We.write=function(r,c,u){for(var l=u,d,f,a=0;a<r.length;++a)d=r.charCodeAt(a),d<128?c[u++]=d:d<2048?(c[u++]=d>>6|192,c[u++]=d&63|128):(d&64512)===55296&&((f=r.charCodeAt(a+1))&64512)===56320?(d=65536+((d&1023)<<10)+(f&1023),++a,c[u++]=d>>18|240,c[u++]=d>>12&63|128,c[u++]=d>>6&63|128,c[u++]=d&63|128):(c[u++]=d>>12|224,c[u++]=d>>6&63|128,c[u++]=d&63|128);return u-l}});var dn=w((ho,fn)=>{"use strict";fn.exports=ti;function ti(o,r,c){var u=c||8192,l=u>>>1,d=null,f=u;return function(n){if(n<1||n>l)return o(n);f+n>u&&(d=o(u),f=0);var e=r.call(d,f,f+=n);return f&7&&(f=(f|7)+1),e}}});var hn=w((yo,pn)=>{"use strict";pn.exports=g;var le=L();function g(o,r){this.lo=o>>>0,this.hi=r>>>0}var V=g.zero=new g(0,0);V.toNumber=function(){return 0};V.zzEncode=V.zzDecode=function(){return this};V.length=function(){return 1};var ni=g.zeroHash="\0\0\0\0\0\0\0\0";g.fromNumber=function(r){if(r===0)return V;var c=r<0;c&&(r=-r);var u=r>>>0,l=(r-u)/4294967296>>>0;return c&&(l=~l>>>0,u=~u>>>0,++u>4294967295&&(u=0,++l>4294967295&&(l=0))),new g(u,l)};g.from=function(r){if(typeof r=="number")return g.fromNumber(r);if(le.isString(r))if(le.Long)r=le.Long.fromString(r);else return g.fromNumber(parseInt(r,10));return r.low||r.high?new g(r.low>>>0,r.high>>>0):V};g.prototype.toNumber=function(r){if(!r&&this.hi>>>31){var c=~this.lo+1>>>0,u=~this.hi>>>0;return c||(u=u+1>>>0),-(c+u*4294967296)}return this.lo+this.hi*4294967296};g.prototype.toLong=function(r){return le.Long?new le.Long(this.lo|0,this.hi|0,!!r):{low:this.lo|0,high:this.hi|0,unsigned:!!r}};var j=String.prototype.charCodeAt;g.fromHash=function(r){return r===ni?V:new g((j.call(r,0)|j.call(r,1)<<8|j.call(r,2)<<16|j.call(r,3)<<24)>>>0,(j.call(r,4)|j.call(r,5)<<8|j.call(r,6)<<16|j.call(r,7)<<24)>>>0)};g.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};g.prototype.zzEncode=function(){var r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this};g.prototype.zzDecode=function(){var r=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this};g.prototype.length=function(){var r=this.lo,c=(this.lo>>>28|this.hi<<4)>>>0,u=this.hi>>>24;return u===0?c===0?r<16384?r<128?1:2:r<2097152?3:4:c<16384?c<128?5:6:c<2097152?7:8:u<128?9:10}});var L=w(Ye=>{"use strict";var h=Ye;h.asPromise=Kt();h.base64=Xt();h.EventEmitter=Qt();h.float=ln();h.inquire=cn();h.utf8=sn();h.pool=dn();h.LongBits=hn();h.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);h.global=h.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Ye;h.emptyArray=Object.freeze?Object.freeze([]):[];h.emptyObject=Object.freeze?Object.freeze({}):{};h.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r};h.isString=function(r){return typeof r=="string"||r instanceof String};h.isObject=function(r){return r&&typeof r=="object"};h.isset=h.isSet=function(r,c){var u=r[c];return u!=null&&r.hasOwnProperty(c)?typeof u!="object"||(Array.isArray(u)?u.length:Object.keys(u).length)>0:!1};h.Buffer=function(){try{var o=h.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}();h._Buffer_from=null;h._Buffer_allocUnsafe=null;h.newBuffer=function(r){return typeof r=="number"?h.Buffer?h._Buffer_allocUnsafe(r):new h.Array(r):h.Buffer?h._Buffer_from(r):typeof Uint8Array>"u"?r:new Uint8Array(r)};h.Array=typeof Uint8Array<"u"?Uint8Array:Array;h.Long=h.global.dcodeIO&&h.global.dcodeIO.Long||h.global.Long||h.inquire("long");h.key2Re=/^true|false|0|1$/;h.key32Re=/^-?(?:0|[1-9][0-9]*)$/;h.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;h.longToHash=function(r){return r?h.LongBits.from(r).toHash():h.LongBits.zeroHash};h.longFromHash=function(r,c){var u=h.LongBits.fromHash(r);return h.Long?h.Long.fromBits(u.lo,u.hi,c):u.toNumber(!!c)};function yn(o,r,c){for(var u=Object.keys(r),l=0;l<u.length;++l)(o[u[l]]===void 0||!c)&&(o[u[l]]=r[u[l]]);return o}h.merge=yn;h.lcFirst=function(r){return r.charAt(0).toLowerCase()+r.substring(1)};function vn(o){function r(c,u){if(!(this instanceof r))return new r(c,u);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:new Error().stack||""}),u&&yn(this,u)}return r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return o},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),r}h.newError=vn;h.ProtocolError=vn("ProtocolError");h.oneOfGetter=function(r){for(var c={},u=0;u<r.length;++u)c[r[u]]=1;return function(){for(var l=Object.keys(this),d=l.length-1;d>-1;--d)if(c[l[d]]===1&&this[l[d]]!==void 0&&this[l[d]]!==null)return l[d]}};h.oneOfSetter=function(r){return function(c){for(var u=0;u<r.length;++u)r[u]!==c&&delete this[r[u]]}};h.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};h._configure=function(){var o=h.Buffer;if(!o){h._Buffer_from=h._Buffer_allocUnsafe=null;return}h._Buffer_from=o.from!==Uint8Array.from&&o.from||function(c,u){return new o(c,u)},h._Buffer_allocUnsafe=o.allocUnsafe||function(c){return new o(c)}}});var Qe=w((mo,wn)=>{"use strict";wn.exports=D;var N=L(),Ke,Se=N.LongBits,mn=N.base64,Dn=N.utf8;function ce(o,r,c){this.fn=o,this.len=r,this.next=void 0,this.val=c}function $e(){}function ri(o){this.head=o.head,this.tail=o.tail,this.len=o.len,this.next=o.states}function D(){this.len=0,this.head=new ce($e,0,0),this.tail=this.head,this.states=null}var bn=function(){return N.Buffer?function(){return(D.create=function(){return new Ke})()}:function(){return new D}};D.create=bn();D.alloc=function(r){return new N.Array(r)};N.Array!==Array&&(D.alloc=N.pool(D.alloc,N.Array.prototype.subarray));D.prototype._push=function(r,c,u){return this.tail=this.tail.next=new ce(r,c,u),this.len+=c,this};function Ge(o,r,c){r[c]=o&255}function ii(o,r,c){for(;o>127;)r[c++]=o&127|128,o>>>=7;r[c]=o}function Xe(o,r){this.len=o,this.next=void 0,this.val=r}Xe.prototype=Object.create(ce.prototype);Xe.prototype.fn=ii;D.prototype.uint32=function(r){return this.len+=(this.tail=this.tail.next=new Xe((r=r>>>0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this};D.prototype.int32=function(r){return r<0?this._push(Ze,10,Se.fromNumber(r)):this.uint32(r)};D.prototype.sint32=function(r){return this.uint32((r<<1^r>>31)>>>0)};function Ze(o,r,c){for(;o.hi;)r[c++]=o.lo&127|128,o.lo=(o.lo>>>7|o.hi<<25)>>>0,o.hi>>>=7;for(;o.lo>127;)r[c++]=o.lo&127|128,o.lo=o.lo>>>7;r[c++]=o.lo}D.prototype.uint64=function(r){var c=Se.from(r);return this._push(Ze,c.length(),c)};D.prototype.int64=D.prototype.uint64;D.prototype.sint64=function(r){var c=Se.from(r).zzEncode();return this._push(Ze,c.length(),c)};D.prototype.bool=function(r){return this._push(Ge,1,r?1:0)};function qe(o,r,c){r[c]=o&255,r[c+1]=o>>>8&255,r[c+2]=o>>>16&255,r[c+3]=o>>>24}D.prototype.fixed32=function(r){return this._push(qe,4,r>>>0)};D.prototype.sfixed32=D.prototype.fixed32;D.prototype.fixed64=function(r){var c=Se.from(r);return this._push(qe,4,c.lo)._push(qe,4,c.hi)};D.prototype.sfixed64=D.prototype.fixed64;D.prototype.float=function(r){return this._push(N.float.writeFloatLE,4,r)};D.prototype.double=function(r){return this._push(N.float.writeDoubleLE,8,r)};var oi=N.Array.prototype.set?function(r,c,u){c.set(r,u)}:function(r,c,u){for(var l=0;l<r.length;++l)c[u+l]=r[l]};D.prototype.bytes=function(r){var c=r.length>>>0;if(!c)return this._push(Ge,1,0);if(N.isString(r)){var u=D.alloc(c=mn.length(r));mn.decode(r,u,0),r=u}return this.uint32(c)._push(oi,c,r)};D.prototype.string=function(r){var c=Dn.length(r);return c?this.uint32(c)._push(Dn.write,c,r):this._push(Ge,1,0)};D.prototype.fork=function(){return this.states=new ri(this),this.head=this.tail=new ce($e,0,0),this.len=0,this};D.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ce($e,0,0),this.len=0),this};D.prototype.ldelim=function(){var r=this.head,c=this.tail,u=this.len;return this.reset().uint32(u),u&&(this.tail.next=r.next,this.tail=c,this.len+=u),this};D.prototype.finish=function(){for(var r=this.head.next,c=this.constructor.alloc(this.len),u=0;r;)r.fn(r.val,c,u),u+=r.len,r=r.next;return c};D._configure=function(o){Ke=o,D.create=bn(),Ke._configure()}});var gn=w((Do,On)=>{"use strict";On.exports=T;var _n=Qe();(T.prototype=Object.create(_n.prototype)).constructor=T;var I=L();function T(){_n.call(this)}T._configure=function(){T.alloc=I._Buffer_allocUnsafe,T.writeBytesBuffer=I.Buffer&&I.Buffer.prototype instanceof Uint8Array&&I.Buffer.prototype.set.name==="set"?function(r,c,u){c.set(r,u)}:function(r,c,u){if(r.copy)r.copy(c,u,0,r.length);else for(var l=0;l<r.length;)c[u++]=r[l++]}};T.prototype.bytes=function(r){I.isString(r)&&(r=I._Buffer_from(r,"base64"));var c=r.length>>>0;return this.uint32(c),c&&this._push(T.writeBytesBuffer,c,r),this};function ai(o,r,c){o.length<40?I.utf8.write(o,r,c):r.utf8Write?r.utf8Write(o,c):r.write(o,c)}T.prototype.string=function(r){var c=I.Buffer.byteLength(r);return this.uint32(c),c&&this._push(ai,c,r),this};T._configure()});var nt=w((bo,Nn)=>{"use strict";Nn.exports=_;var C=L(),tt,Pn=C.LongBits,li=C.utf8;function x(o,r){return RangeError("index out of range: "+o.pos+" + "+(r||1)+" > "+o.len)}function _(o){this.buf=o,this.pos=0,this.len=o.length}var En=typeof Uint8Array<"u"?function(r){if(r instanceof Uint8Array||Array.isArray(r))return new _(r);throw Error("illegal buffer")}:function(r){if(Array.isArray(r))return new _(r);throw Error("illegal buffer")},Rn=function(){return C.Buffer?function(c){return(_.create=function(l){return C.Buffer.isBuffer(l)?new tt(l):En(l)})(c)}:En};_.create=Rn();_.prototype._slice=C.Array.prototype.subarray||C.Array.prototype.slice;_.prototype.uint32=function(){var r=4294967295;return function(){if(r=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(r=(r|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(r=(r|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return r;if((this.pos+=5)>this.len)throw this.pos=this.len,x(this,10);return r}}();_.prototype.int32=function(){return this.uint32()|0};_.prototype.sint32=function(){var r=this.uint32();return r>>>1^-(r&1)|0};function et(){var o=new Pn(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(o.lo=(o.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return o;if(o.lo=(o.lo|(this.buf[this.pos]&127)<<28)>>>0,o.hi=(o.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return o;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw x(this);if(o.lo=(o.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return o}return o.lo=(o.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,o}if(this.len-this.pos>4){for(;r<5;++r)if(o.hi=(o.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return o}else for(;r<5;++r){if(this.pos>=this.len)throw x(this);if(o.hi=(o.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return o}throw Error("invalid varint encoding")}_.prototype.bool=function(){return this.uint32()!==0};function Pe(o,r){return(o[r-4]|o[r-3]<<8|o[r-2]<<16|o[r-1]<<24)>>>0}_.prototype.fixed32=function(){if(this.pos+4>this.len)throw x(this,4);return Pe(this.buf,this.pos+=4)};_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw x(this,4);return Pe(this.buf,this.pos+=4)|0};function Sn(){if(this.pos+8>this.len)throw x(this,8);return new Pn(Pe(this.buf,this.pos+=4),Pe(this.buf,this.pos+=4))}_.prototype.float=function(){if(this.pos+4>this.len)throw x(this,4);var r=C.float.readFloatLE(this.buf,this.pos);return this.pos+=4,r};_.prototype.double=function(){if(this.pos+8>this.len)throw x(this,4);var r=C.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,r};_.prototype.bytes=function(){var r=this.uint32(),c=this.pos,u=this.pos+r;if(u>this.len)throw x(this,r);return this.pos+=r,Array.isArray(this.buf)?this.buf.slice(c,u):c===u?new this.buf.constructor(0):this._slice.call(this.buf,c,u)};_.prototype.string=function(){var r=this.bytes();return li.read(r,0,r.length)};_.prototype.skip=function(r){if(typeof r=="number"){if(this.pos+r>this.len)throw x(this,r);this.pos+=r}else do if(this.pos>=this.len)throw x(this);while(this.buf[this.pos++]&128);return this};_.prototype.skipType=function(o){switch(o){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(o=this.uint32()&7)!==4;)this.skipType(o);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+o+" at offset "+this.pos)}return this};_._configure=function(o){tt=o,_.create=Rn(),tt._configure();var r=C.Long?"toLong":"toNumber";C.merge(_.prototype,{int64:function(){return et.call(this)[r](!1)},uint64:function(){return et.call(this)[r](!0)},sint64:function(){return et.call(this).zzDecode()[r](!1)},fixed64:function(){return Sn.call(this)[r](!0)},sfixed64:function(){return Sn.call(this)[r](!1)}})}});var Tn=w((wo,kn)=>{"use strict";kn.exports=H;var xn=nt();(H.prototype=Object.create(xn.prototype)).constructor=H;var An=L();function H(o){xn.call(this,o)}H._configure=function(){An.Buffer&&(H.prototype._slice=An.Buffer.prototype.slice)};H.prototype.string=function(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))};H._configure()});var Fn=w((_o,Cn)=>{"use strict";Cn.exports=ue;var rt=L();(ue.prototype=Object.create(rt.EventEmitter.prototype)).constructor=ue;function ue(o,r,c){if(typeof o!="function")throw TypeError("rpcImpl must be a function");rt.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=!!r,this.responseDelimited=!!c}ue.prototype.rpcCall=function o(r,c,u,l,d){if(!l)throw TypeError("request must be specified");var f=this;if(!d)return rt.asPromise(o,f,r,c,u,l);if(!f.rpcImpl){setTimeout(function(){d(Error("already ended"))},0);return}try{return f.rpcImpl(r,c[f.requestDelimited?"encodeDelimited":"encode"](l).finish(),function(n,e){if(n)return f.emit("error",n,r),d(n);if(e===null){f.end(!0);return}if(!(e instanceof u))try{e=u[f.responseDelimited?"decodeDelimited":"decode"](e)}catch(t){return f.emit("error",t,r),d(t)}return f.emit("data",e,r),d(null,e)})}catch(a){f.emit("error",a,r),setTimeout(function(){d(a)},0);return}};ue.prototype.end=function(r){return this.rpcImpl&&(r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var jn=w(Bn=>{"use strict";var ci=Bn;ci.Service=Fn()});var In=w((go,Ln)=>{"use strict";Ln.exports={}});var Jn=w(Un=>{"use strict";var R=Un;R.build="minimal";R.Writer=Qe();R.BufferWriter=gn();R.Reader=nt();R.BufferReader=Tn();R.util=L();R.rpc=jn();R.roots=In();R.configure=Mn;function Mn(){R.util._configure(),R.Writer._configure(R.BufferWriter),R.Reader._configure(R.BufferReader)}Mn()});var Re=w((So,Vn)=>{"use strict";Vn.exports=Jn()});var zn=w((Hn,se)=>{"use strict";(function(o,r){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],r):typeof z=="function"&&typeof se=="object"&&se&&se.exports&&(se.exports=r(Re()))})(Hn,function(o){"use strict";var r=o.Reader,c=o.Writer,u=o.util,l=o.roots.default||(o.roots.default={});return l.cogment_verse=function(){var d={};return d.nd_array=function(){var f={};return f.DType=function(){var a={},n=Object.create(a);return n[a[0]="DTYPE_UNKNOWN"]=0,n[a[1]="DTYPE_FLOAT32"]=1,n[a[2]="DTYPE_FLOAT64"]=2,n[a[3]="DTYPE_INT8"]=3,n[a[4]="DTYPE_INT32"]=4,n[a[5]="DTYPE_INT64"]=5,n[a[6]="DTYPE_UINT8"]=6,n}(),f.Array=function(){function a(n){if(this.shape=[],this.doubleData=[],this.int32Data=[],this.int64Data=[],n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.dtype=0,a.prototype.shape=u.emptyArray,a.prototype.rawData=u.newBuffer([]),a.prototype.npyData=u.newBuffer([]),a.prototype.doubleData=u.emptyArray,a.prototype.int32Data=u.emptyArray,a.prototype.int64Data=u.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=c.create()),e.dtype!=null&&Object.hasOwnProperty.call(e,"dtype")&&t.uint32(8).int32(e.dtype),e.shape!=null&&e.shape.length){t.uint32(18).fork();for(var i=0;i<e.shape.length;++i)t.uint32(e.shape[i]);t.ldelim()}if(e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&t.uint32(26).bytes(e.rawData),e.npyData!=null&&Object.hasOwnProperty.call(e,"npyData")&&t.uint32(34).bytes(e.npyData),e.doubleData!=null&&e.doubleData.length){t.uint32(42).fork();for(var i=0;i<e.doubleData.length;++i)t.double(e.doubleData[i]);t.ldelim()}if(e.int32Data!=null&&e.int32Data.length){t.uint32(50).fork();for(var i=0;i<e.int32Data.length;++i)t.sint32(e.int32Data[i]);t.ldelim()}if(e.int64Data!=null&&e.int64Data.length){t.uint32(58).fork();for(var i=0;i<e.int64Data.length;++i)t.sint64(e.int64Data[i]);t.ldelim()}return t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.nd_array.Array;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.dtype=e.int32();break}case 2:{if(s.shape&&s.shape.length||(s.shape=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.shape.push(e.uint32());else s.shape.push(e.uint32());break}case 3:{s.rawData=e.bytes();break}case 4:{s.npyData=e.bytes();break}case 5:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.doubleData.push(e.double());else s.doubleData.push(e.double());break}case 6:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.int32Data.push(e.sint32());else s.int32Data.push(e.sint32());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.int64Data.push(e.sint64());else s.int64Data.push(e.sint64());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dtype!=null&&e.hasOwnProperty("dtype"))switch(e.dtype){default:return"dtype: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.shape!=null&&e.hasOwnProperty("shape")){if(!a.isArray(e.shape))return"shape: array expected";for(var t=0;t<e.shape.length;++t)if(!u.isInteger(e.shape[t]))return"shape: integer[] expected"}if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||u.isString(e.rawData)))return"rawData: buffer expected";if(e.npyData!=null&&e.hasOwnProperty("npyData")&&!(e.npyData&&typeof e.npyData.length=="number"||u.isString(e.npyData)))return"npyData: buffer expected";if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!a.isArray(e.doubleData))return"doubleData: array expected";for(var t=0;t<e.doubleData.length;++t)if(typeof e.doubleData[t]!="number")return"doubleData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!a.isArray(e.int32Data))return"int32Data: array expected";for(var t=0;t<e.int32Data.length;++t)if(!u.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!a.isArray(e.int64Data))return"int64Data: array expected";for(var t=0;t<e.int64Data.length;++t)if(!u.isInteger(e.int64Data[t])&&!(e.int64Data[t]&&u.isInteger(e.int64Data[t].low)&&u.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.nd_array.Array)return e;var t=new l.cogment_verse.nd_array.Array;switch(e.dtype){default:if(typeof e.dtype=="number"){t.dtype=e.dtype;break}break;case"DTYPE_UNKNOWN":case 0:t.dtype=0;break;case"DTYPE_FLOAT32":case 1:t.dtype=1;break;case"DTYPE_FLOAT64":case 2:t.dtype=2;break;case"DTYPE_INT8":case 3:t.dtype=3;break;case"DTYPE_INT32":case 4:t.dtype=4;break;case"DTYPE_INT64":case 5:t.dtype=5;break;case"DTYPE_UINT8":case 6:t.dtype=6;break}if(e.shape){if(!a.isArray(e.shape))throw TypeError(".cogment_verse.nd_array.Array.shape: array expected");t.shape=[];for(var i=0;i<e.shape.length;++i)t.shape[i]=e.shape[i]>>>0}if(e.rawData!=null&&(typeof e.rawData=="string"?u.base64.decode(e.rawData,t.rawData=u.newBuffer(u.base64.length(e.rawData)),0):e.rawData.length>=0&&(t.rawData=e.rawData)),e.npyData!=null&&(typeof e.npyData=="string"?u.base64.decode(e.npyData,t.npyData=u.newBuffer(u.base64.length(e.npyData)),0):e.npyData.length>=0&&(t.npyData=e.npyData)),e.doubleData){if(!a.isArray(e.doubleData))throw TypeError(".cogment_verse.nd_array.Array.doubleData: array expected");t.doubleData=[];for(var i=0;i<e.doubleData.length;++i)t.doubleData[i]=Number(e.doubleData[i])}if(e.int32Data){if(!a.isArray(e.int32Data))throw TypeError(".cogment_verse.nd_array.Array.int32Data: array expected");t.int32Data=[];for(var i=0;i<e.int32Data.length;++i)t.int32Data[i]=e.int32Data[i]|0}if(e.int64Data){if(!a.isArray(e.int64Data))throw TypeError(".cogment_verse.nd_array.Array.int64Data: array expected");t.int64Data=[];for(var i=0;i<e.int64Data.length;++i)u.Long?(t.int64Data[i]=u.Long.fromValue(e.int64Data[i])).unsigned=!1:typeof e.int64Data[i]=="string"?t.int64Data[i]=parseInt(e.int64Data[i],10):typeof e.int64Data[i]=="number"?t.int64Data[i]=e.int64Data[i]:typeof e.int64Data[i]=="object"&&(t.int64Data[i]=new u.LongBits(e.int64Data[i].low>>>0,e.int64Data[i].high>>>0).toNumber())}return t},a.toObject=function(e,t){t||(t={});var i={};if((t.arrays||t.defaults)&&(i.shape=[],i.doubleData=[],i.int32Data=[],i.int64Data=[]),t.defaults&&(i.dtype=t.enums===String?"DTYPE_UNKNOWN":0,t.bytes===String?i.rawData="":(i.rawData=[],t.bytes!==a&&(i.rawData=u.newBuffer(i.rawData))),t.bytes===String?i.npyData="":(i.npyData=[],t.bytes!==a&&(i.npyData=u.newBuffer(i.npyData)))),e.dtype!=null&&e.hasOwnProperty("dtype")&&(i.dtype=t.enums===String?l.cogment_verse.nd_array.DType[e.dtype]===void 0?e.dtype:l.cogment_verse.nd_array.DType[e.dtype]:e.dtype),e.shape&&e.shape.length){i.shape=[];for(var s=0;s<e.shape.length;++s)i.shape[s]=e.shape[s]}if(e.rawData!=null&&e.hasOwnProperty("rawData")&&(i.rawData=t.bytes===String?u.base64.encode(e.rawData,0,e.rawData.length):t.bytes===a?a.prototype.slice.call(e.rawData):e.rawData),e.npyData!=null&&e.hasOwnProperty("npyData")&&(i.npyData=t.bytes===String?u.base64.encode(e.npyData,0,e.npyData.length):t.bytes===a?a.prototype.slice.call(e.npyData):e.npyData),e.doubleData&&e.doubleData.length){i.doubleData=[];for(var s=0;s<e.doubleData.length;++s)i.doubleData[s]=t.json&&!isFinite(e.doubleData[s])?String(e.doubleData[s]):e.doubleData[s]}if(e.int32Data&&e.int32Data.length){i.int32Data=[];for(var s=0;s<e.int32Data.length;++s)i.int32Data[s]=e.int32Data[s]}if(e.int64Data&&e.int64Data.length){i.int64Data=[];for(var s=0;s<e.int64Data.length;++s)typeof e.int64Data[s]=="number"?i.int64Data[s]=t.longs===String?String(e.int64Data[s]):e.int64Data[s]:i.int64Data[s]=t.longs===String?u.Long.prototype.toString.call(e.int64Data[s]):t.longs===Number?new u.LongBits(e.int64Data[s].low>>>0,e.int64Data[s].high>>>0).toNumber():e.int64Data[s]}return i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.nd_array.Array"},a}(),f}(),d}(),l})});var Yn=w((Wn,fe)=>{"use strict";(function(o,r){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],r):typeof z=="function"&&typeof fe=="object"&&fe&&fe.exports&&(fe.exports=r(Re()))})(Wn,function(o){"use strict";var r=o.Reader,c=o.Writer,u=o.util,l=o.roots.default||(o.roots.default={});return l.cogment_verse=function(){var d={};return d.spaces=function(){var f={};return f.Discrete=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.n=0,a.prototype.start=0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.n!=null&&Object.hasOwnProperty.call(e,"n")&&t.uint32(8).int32(e.n),e.start!=null&&Object.hasOwnProperty.call(e,"start")&&t.uint32(16).int32(e.start),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.Discrete;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.n=e.int32();break}case 2:{s.start=e.int32();break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){return typeof e!="object"||e===null?"object expected":e.n!=null&&e.hasOwnProperty("n")&&!u.isInteger(e.n)?"n: integer expected":e.start!=null&&e.hasOwnProperty("start")&&!u.isInteger(e.start)?"start: integer expected":null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.Discrete)return e;var t=new l.cogment_verse.spaces.Discrete;return e.n!=null&&(t.n=e.n|0),e.start!=null&&(t.start=e.start|0),t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.n=0,i.start=0),e.n!=null&&e.hasOwnProperty("n")&&(i.n=e.n),e.start!=null&&e.hasOwnProperty("start")&&(i.start=e.start),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.Discrete"},a}(),f.Box=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.low=null,a.prototype.high=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.low!=null&&Object.hasOwnProperty.call(e,"low")&&l.cogment_verse.nd_array.Array.encode(e.low,t.uint32(18).fork()).ldelim(),e.high!=null&&Object.hasOwnProperty.call(e,"high")&&l.cogment_verse.nd_array.Array.encode(e.high,t.uint32(26).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.Box;e.pos<i;){var p=e.uint32();switch(p>>>3){case 2:{s.low=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}case 3:{s.high=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.low!=null&&e.hasOwnProperty("low")){var t=l.cogment_verse.nd_array.Array.verify(e.low);if(t)return"low."+t}if(e.high!=null&&e.hasOwnProperty("high")){var t=l.cogment_verse.nd_array.Array.verify(e.high);if(t)return"high."+t}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.Box)return e;var t=new l.cogment_verse.spaces.Box;if(e.low!=null){if(typeof e.low!="object")throw TypeError(".cogment_verse.spaces.Box.low: object expected");t.low=l.cogment_verse.nd_array.Array.fromObject(e.low)}if(e.high!=null){if(typeof e.high!="object")throw TypeError(".cogment_verse.spaces.Box.high: object expected");t.high=l.cogment_verse.nd_array.Array.fromObject(e.high)}return t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.low=null,i.high=null),e.low!=null&&e.hasOwnProperty("low")&&(i.low=l.cogment_verse.nd_array.Array.toObject(e.low,t)),e.high!=null&&e.hasOwnProperty("high")&&(i.high=l.cogment_verse.nd_array.Array.toObject(e.high,t)),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.Box"},a}(),f.MultiBinary=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.n=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.n!=null&&Object.hasOwnProperty.call(e,"n")&&l.cogment_verse.nd_array.Array.encode(e.n,t.uint32(10).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.MultiBinary;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.n=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.n!=null&&e.hasOwnProperty("n")){var t=l.cogment_verse.nd_array.Array.verify(e.n);if(t)return"n."+t}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.MultiBinary)return e;var t=new l.cogment_verse.spaces.MultiBinary;if(e.n!=null){if(typeof e.n!="object")throw TypeError(".cogment_verse.spaces.MultiBinary.n: object expected");t.n=l.cogment_verse.nd_array.Array.fromObject(e.n)}return t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.n=null),e.n!=null&&e.hasOwnProperty("n")&&(i.n=l.cogment_verse.nd_array.Array.toObject(e.n,t)),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.MultiBinary"},a}(),f.MultiDiscrete=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.nvec=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.nvec!=null&&Object.hasOwnProperty.call(e,"nvec")&&l.cogment_verse.nd_array.Array.encode(e.nvec,t.uint32(10).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.MultiDiscrete;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.nvec=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.nvec!=null&&e.hasOwnProperty("nvec")){var t=l.cogment_verse.nd_array.Array.verify(e.nvec);if(t)return"nvec."+t}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.MultiDiscrete)return e;var t=new l.cogment_verse.spaces.MultiDiscrete;if(e.nvec!=null){if(typeof e.nvec!="object")throw TypeError(".cogment_verse.spaces.MultiDiscrete.nvec: object expected");t.nvec=l.cogment_verse.nd_array.Array.fromObject(e.nvec)}return t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.nvec=null),e.nvec!=null&&e.hasOwnProperty("nvec")&&(i.nvec=l.cogment_verse.nd_array.Array.toObject(e.nvec,t)),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.MultiDiscrete"},a}(),f.Dict=function(){function a(n){if(this.spaces=[],n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.spaces=u.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=c.create()),e.spaces!=null&&e.spaces.length)for(var i=0;i<e.spaces.length;++i)l.cogment_verse.spaces.Dict.SubSpace.encode(e.spaces[i],t.uint32(10).fork()).ldelim();return t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.Dict;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.spaces&&s.spaces.length||(s.spaces=[]),s.spaces.push(l.cogment_verse.spaces.Dict.SubSpace.decode(e,e.uint32()));break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.spaces!=null&&e.hasOwnProperty("spaces")){if(!Array.isArray(e.spaces))return"spaces: array expected";for(var t=0;t<e.spaces.length;++t){var i=l.cogment_verse.spaces.Dict.SubSpace.verify(e.spaces[t]);if(i)return"spaces."+i}}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.Dict)return e;var t=new l.cogment_verse.spaces.Dict;if(e.spaces){if(!Array.isArray(e.spaces))throw TypeError(".cogment_verse.spaces.Dict.spaces: array expected");t.spaces=[];for(var i=0;i<e.spaces.length;++i){if(typeof e.spaces[i]!="object")throw TypeError(".cogment_verse.spaces.Dict.spaces: object expected");t.spaces[i]=l.cogment_verse.spaces.Dict.SubSpace.fromObject(e.spaces[i])}}return t},a.toObject=function(e,t){t||(t={});var i={};if((t.arrays||t.defaults)&&(i.spaces=[]),e.spaces&&e.spaces.length){i.spaces=[];for(var s=0;s<e.spaces.length;++s)i.spaces[s]=l.cogment_verse.spaces.Dict.SubSpace.toObject(e.spaces[s],t)}return i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.Dict"},a.SubSpace=function(){function n(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return n.prototype.key="",n.prototype.space=null,n.create=function(t){return new n(t)},n.encode=function(t,i){return i||(i=c.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(10).string(t.key),t.space!=null&&Object.hasOwnProperty.call(t,"space")&&l.cogment_verse.spaces.Space.encode(t.space,i.uint32(18).fork()).ldelim(),i},n.encodeDelimited=function(t,i){return this.encode(t,i).ldelim()},n.decode=function(t,i){t instanceof r||(t=r.create(t));for(var s=i===void 0?t.len:t.pos+i,p=new l.cogment_verse.spaces.Dict.SubSpace;t.pos<s;){var y=t.uint32();switch(y>>>3){case 1:{p.key=t.string();break}case 2:{p.space=l.cogment_verse.spaces.Space.decode(t,t.uint32());break}default:t.skipType(y&7);break}}return p},n.decodeDelimited=function(t){return t instanceof r||(t=new r(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.key!=null&&t.hasOwnProperty("key")&&!u.isString(t.key))return"key: string expected";if(t.space!=null&&t.hasOwnProperty("space")){var i=l.cogment_verse.spaces.Space.verify(t.space);if(i)return"space."+i}return null},n.fromObject=function(t){if(t instanceof l.cogment_verse.spaces.Dict.SubSpace)return t;var i=new l.cogment_verse.spaces.Dict.SubSpace;if(t.key!=null&&(i.key=String(t.key)),t.space!=null){if(typeof t.space!="object")throw TypeError(".cogment_verse.spaces.Dict.SubSpace.space: object expected");i.space=l.cogment_verse.spaces.Space.fromObject(t.space)}return i},n.toObject=function(t,i){i||(i={});var s={};return i.defaults&&(s.key="",s.space=null),t.key!=null&&t.hasOwnProperty("key")&&(s.key=t.key),t.space!=null&&t.hasOwnProperty("space")&&(s.space=l.cogment_verse.spaces.Space.toObject(t.space,i)),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/cogment_verse.spaces.Dict.SubSpace"},n}(),a}(),f.Space=function(){function a(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}a.prototype.discrete=null,a.prototype.box=null,a.prototype.dict=null,a.prototype.multiBinary=null,a.prototype.multiDiscrete=null;var n;return Object.defineProperty(a.prototype,"kind",{get:u.oneOfGetter(n=["discrete","box","dict","multiBinary","multiDiscrete"]),set:u.oneOfSetter(n)}),a.create=function(t){return new a(t)},a.encode=function(t,i){return i||(i=c.create()),t.discrete!=null&&Object.hasOwnProperty.call(t,"discrete")&&l.cogment_verse.spaces.Discrete.encode(t.discrete,i.uint32(10).fork()).ldelim(),t.box!=null&&Object.hasOwnProperty.call(t,"box")&&l.cogment_verse.spaces.Box.encode(t.box,i.uint32(18).fork()).ldelim(),t.dict!=null&&Object.hasOwnProperty.call(t,"dict")&&l.cogment_verse.spaces.Dict.encode(t.dict,i.uint32(26).fork()).ldelim(),t.multiBinary!=null&&Object.hasOwnProperty.call(t,"multiBinary")&&l.cogment_verse.spaces.MultiBinary.encode(t.multiBinary,i.uint32(34).fork()).ldelim(),t.multiDiscrete!=null&&Object.hasOwnProperty.call(t,"multiDiscrete")&&l.cogment_verse.spaces.MultiDiscrete.encode(t.multiDiscrete,i.uint32(42).fork()).ldelim(),i},a.encodeDelimited=function(t,i){return this.encode(t,i).ldelim()},a.decode=function(t,i){t instanceof r||(t=r.create(t));for(var s=i===void 0?t.len:t.pos+i,p=new l.cogment_verse.spaces.Space;t.pos<s;){var y=t.uint32();switch(y>>>3){case 1:{p.discrete=l.cogment_verse.spaces.Discrete.decode(t,t.uint32());break}case 2:{p.box=l.cogment_verse.spaces.Box.decode(t,t.uint32());break}case 3:{p.dict=l.cogment_verse.spaces.Dict.decode(t,t.uint32());break}case 4:{p.multiBinary=l.cogment_verse.spaces.MultiBinary.decode(t,t.uint32());break}case 5:{p.multiDiscrete=l.cogment_verse.spaces.MultiDiscrete.decode(t,t.uint32());break}default:t.skipType(y&7);break}}return p},a.decodeDelimited=function(t){return t instanceof r||(t=new r(t)),this.decode(t,t.uint32())},a.verify=function(t){if(typeof t!="object"||t===null)return"object expected";var i={};if(t.discrete!=null&&t.hasOwnProperty("discrete")){i.kind=1;{var s=l.cogment_verse.spaces.Discrete.verify(t.discrete);if(s)return"discrete."+s}}if(t.box!=null&&t.hasOwnProperty("box")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.Box.verify(t.box);if(s)return"box."+s}}if(t.dict!=null&&t.hasOwnProperty("dict")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.Dict.verify(t.dict);if(s)return"dict."+s}}if(t.multiBinary!=null&&t.hasOwnProperty("multiBinary")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.MultiBinary.verify(t.multiBinary);if(s)return"multiBinary."+s}}if(t.multiDiscrete!=null&&t.hasOwnProperty("multiDiscrete")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.MultiDiscrete.verify(t.multiDiscrete);if(s)return"multiDiscrete."+s}}return null},a.fromObject=function(t){if(t instanceof l.cogment_verse.spaces.Space)return t;var i=new l.cogment_verse.spaces.Space;if(t.discrete!=null){if(typeof t.discrete!="object")throw TypeError(".cogment_verse.spaces.Space.discrete: object expected");i.discrete=l.cogment_verse.spaces.Discrete.fromObject(t.discrete)}if(t.box!=null){if(typeof t.box!="object")throw TypeError(".cogment_verse.spaces.Space.box: object expected");i.box=l.cogment_verse.spaces.Box.fromObject(t.box)}if(t.dict!=null){if(typeof t.dict!="object")throw TypeError(".cogment_verse.spaces.Space.dict: object expected");i.dict=l.cogment_verse.spaces.Dict.fromObject(t.dict)}if(t.multiBinary!=null){if(typeof t.multiBinary!="object")throw TypeError(".cogment_verse.spaces.Space.multiBinary: object expected");i.multiBinary=l.cogment_verse.spaces.MultiBinary.fromObject(t.multiBinary)}if(t.multiDiscrete!=null){if(typeof t.multiDiscrete!="object")throw TypeError(".cogment_verse.spaces.Space.multiDiscrete: object expected");i.multiDiscrete=l.cogment_verse.spaces.MultiDiscrete.fromObject(t.multiDiscrete)}return i},a.toObject=function(t,i){i||(i={});var s={};return t.discrete!=null&&t.hasOwnProperty("discrete")&&(s.discrete=l.cogment_verse.spaces.Discrete.toObject(t.discrete,i),i.oneofs&&(s.kind="discrete")),t.box!=null&&t.hasOwnProperty("box")&&(s.box=l.cogment_verse.spaces.Box.toObject(t.box,i),i.oneofs&&(s.kind="box")),t.dict!=null&&t.hasOwnProperty("dict")&&(s.dict=l.cogment_verse.spaces.Dict.toObject(t.dict,i),i.oneofs&&(s.kind="dict")),t.multiBinary!=null&&t.hasOwnProperty("multiBinary")&&(s.multiBinary=l.cogment_verse.spaces.MultiBinary.toObject(t.multiBinary,i),i.oneofs&&(s.kind="multiBinary")),t.multiDiscrete!=null&&t.hasOwnProperty("multiDiscrete")&&(s.multiDiscrete=l.cogment_verse.spaces.MultiDiscrete.toObject(t.multiDiscrete,i),i.oneofs&&(s.kind="multiDiscrete")),s},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/cogment_verse.spaces.Space"},a}(),f}(),d.nd_array=function(){var f={};return f.DType=function(){var a={},n=Object.create(a);return n[a[0]="DTYPE_UNKNOWN"]=0,n[a[1]="DTYPE_FLOAT32"]=1,n[a[2]="DTYPE_FLOAT64"]=2,n[a[3]="DTYPE_INT8"]=3,n[a[4]="DTYPE_INT32"]=4,n[a[5]="DTYPE_INT64"]=5,n[a[6]="DTYPE_UINT8"]=6,n}(),f.Array=function(){function a(n){if(this.shape=[],this.doubleData=[],this.int32Data=[],this.int64Data=[],n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.dtype=0,a.prototype.shape=u.emptyArray,a.prototype.rawData=u.newBuffer([]),a.prototype.npyData=u.newBuffer([]),a.prototype.doubleData=u.emptyArray,a.prototype.int32Data=u.emptyArray,a.prototype.int64Data=u.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=c.create()),e.dtype!=null&&Object.hasOwnProperty.call(e,"dtype")&&t.uint32(8).int32(e.dtype),e.shape!=null&&e.shape.length){t.uint32(18).fork();for(var i=0;i<e.shape.length;++i)t.uint32(e.shape[i]);t.ldelim()}if(e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&t.uint32(26).bytes(e.rawData),e.npyData!=null&&Object.hasOwnProperty.call(e,"npyData")&&t.uint32(34).bytes(e.npyData),e.doubleData!=null&&e.doubleData.length){t.uint32(42).fork();for(var i=0;i<e.doubleData.length;++i)t.double(e.doubleData[i]);t.ldelim()}if(e.int32Data!=null&&e.int32Data.length){t.uint32(50).fork();for(var i=0;i<e.int32Data.length;++i)t.sint32(e.int32Data[i]);t.ldelim()}if(e.int64Data!=null&&e.int64Data.length){t.uint32(58).fork();for(var i=0;i<e.int64Data.length;++i)t.sint64(e.int64Data[i]);t.ldelim()}return t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.nd_array.Array;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.dtype=e.int32();break}case 2:{if(s.shape&&s.shape.length||(s.shape=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.shape.push(e.uint32());else s.shape.push(e.uint32());break}case 3:{s.rawData=e.bytes();break}case 4:{s.npyData=e.bytes();break}case 5:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.doubleData.push(e.double());else s.doubleData.push(e.double());break}case 6:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.int32Data.push(e.sint32());else s.int32Data.push(e.sint32());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.int64Data.push(e.sint64());else s.int64Data.push(e.sint64());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dtype!=null&&e.hasOwnProperty("dtype"))switch(e.dtype){default:return"dtype: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.shape!=null&&e.hasOwnProperty("shape")){if(!a.isArray(e.shape))return"shape: array expected";for(var t=0;t<e.shape.length;++t)if(!u.isInteger(e.shape[t]))return"shape: integer[] expected"}if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||u.isString(e.rawData)))return"rawData: buffer expected";if(e.npyData!=null&&e.hasOwnProperty("npyData")&&!(e.npyData&&typeof e.npyData.length=="number"||u.isString(e.npyData)))return"npyData: buffer expected";if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!a.isArray(e.doubleData))return"doubleData: array expected";for(var t=0;t<e.doubleData.length;++t)if(typeof e.doubleData[t]!="number")return"doubleData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!a.isArray(e.int32Data))return"int32Data: array expected";for(var t=0;t<e.int32Data.length;++t)if(!u.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!a.isArray(e.int64Data))return"int64Data: array expected";for(var t=0;t<e.int64Data.length;++t)if(!u.isInteger(e.int64Data[t])&&!(e.int64Data[t]&&u.isInteger(e.int64Data[t].low)&&u.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.nd_array.Array)return e;var t=new l.cogment_verse.nd_array.Array;switch(e.dtype){default:if(typeof e.dtype=="number"){t.dtype=e.dtype;break}break;case"DTYPE_UNKNOWN":case 0:t.dtype=0;break;case"DTYPE_FLOAT32":case 1:t.dtype=1;break;case"DTYPE_FLOAT64":case 2:t.dtype=2;break;case"DTYPE_INT8":case 3:t.dtype=3;break;case"DTYPE_INT32":case 4:t.dtype=4;break;case"DTYPE_INT64":case 5:t.dtype=5;break;case"DTYPE_UINT8":case 6:t.dtype=6;break}if(e.shape){if(!a.isArray(e.shape))throw TypeError(".cogment_verse.nd_array.Array.shape: array expected");t.shape=[];for(var i=0;i<e.shape.length;++i)t.shape[i]=e.shape[i]>>>0}if(e.rawData!=null&&(typeof e.rawData=="string"?u.base64.decode(e.rawData,t.rawData=u.newBuffer(u.base64.length(e.rawData)),0):e.rawData.length>=0&&(t.rawData=e.rawData)),e.npyData!=null&&(typeof e.npyData=="string"?u.base64.decode(e.npyData,t.npyData=u.newBuffer(u.base64.length(e.npyData)),0):e.npyData.length>=0&&(t.npyData=e.npyData)),e.doubleData){if(!a.isArray(e.doubleData))throw TypeError(".cogment_verse.nd_array.Array.doubleData: array expected");t.doubleData=[];for(var i=0;i<e.doubleData.length;++i)t.doubleData[i]=Number(e.doubleData[i])}if(e.int32Data){if(!a.isArray(e.int32Data))throw TypeError(".cogment_verse.nd_array.Array.int32Data: array expected");t.int32Data=[];for(var i=0;i<e.int32Data.length;++i)t.int32Data[i]=e.int32Data[i]|0}if(e.int64Data){if(!a.isArray(e.int64Data))throw TypeError(".cogment_verse.nd_array.Array.int64Data: array expected");t.int64Data=[];for(var i=0;i<e.int64Data.length;++i)u.Long?(t.int64Data[i]=u.Long.fromValue(e.int64Data[i])).unsigned=!1:typeof e.int64Data[i]=="string"?t.int64Data[i]=parseInt(e.int64Data[i],10):typeof e.int64Data[i]=="number"?t.int64Data[i]=e.int64Data[i]:typeof e.int64Data[i]=="object"&&(t.int64Data[i]=new u.LongBits(e.int64Data[i].low>>>0,e.int64Data[i].high>>>0).toNumber())}return t},a.toObject=function(e,t){t||(t={});var i={};if((t.arrays||t.defaults)&&(i.shape=[],i.doubleData=[],i.int32Data=[],i.int64Data=[]),t.defaults&&(i.dtype=t.enums===String?"DTYPE_UNKNOWN":0,t.bytes===String?i.rawData="":(i.rawData=[],t.bytes!==a&&(i.rawData=u.newBuffer(i.rawData))),t.bytes===String?i.npyData="":(i.npyData=[],t.bytes!==a&&(i.npyData=u.newBuffer(i.npyData)))),e.dtype!=null&&e.hasOwnProperty("dtype")&&(i.dtype=t.enums===String?l.cogment_verse.nd_array.DType[e.dtype]===void 0?e.dtype:l.cogment_verse.nd_array.DType[e.dtype]:e.dtype),e.shape&&e.shape.length){i.shape=[];for(var s=0;s<e.shape.length;++s)i.shape[s]=e.shape[s]}if(e.rawData!=null&&e.hasOwnProperty("rawData")&&(i.rawData=t.bytes===String?u.base64.encode(e.rawData,0,e.rawData.length):t.bytes===a?a.prototype.slice.call(e.rawData):e.rawData),e.npyData!=null&&e.hasOwnProperty("npyData")&&(i.npyData=t.bytes===String?u.base64.encode(e.npyData,0,e.npyData.length):t.bytes===a?a.prototype.slice.call(e.npyData):e.npyData),e.doubleData&&e.doubleData.length){i.doubleData=[];for(var s=0;s<e.doubleData.length;++s)i.doubleData[s]=t.json&&!isFinite(e.doubleData[s])?String(e.doubleData[s]):e.doubleData[s]}if(e.int32Data&&e.int32Data.length){i.int32Data=[];for(var s=0;s<e.int32Data.length;++s)i.int32Data[s]=e.int32Data[s]}if(e.int64Data&&e.int64Data.length){i.int64Data=[];for(var s=0;s<e.int64Data.length;++s)typeof e.int64Data[s]=="number"?i.int64Data[s]=t.longs===String?String(e.int64Data[s]):e.int64Data[s]:i.int64Data[s]=t.longs===String?u.Long.prototype.toString.call(e.int64Data[s]):t.longs===Number?new u.LongBits(e.int64Data[s].low>>>0,e.int64Data[s].high>>>0).toNumber():e.int64Data[s]}return i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.nd_array.Array"},a}(),f}(),d}(),l})});var qn=w((Kn,de)=>{"use strict";(function(o,r){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],r):typeof z=="function"&&typeof de=="object"&&de&&de.exports&&(de.exports=r(Re()))})(Kn,function(o){"use strict";var r=o.Reader,c=o.Writer,u=o.util,l=o.roots.default||(o.roots.default={});return l.cogment_verse=function(){var d={};return d.EnvironmentSpecs=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.prototype.implementation="",f.prototype.turnBased=!1,f.prototype.numPlayers=0,f.prototype.observationSpace=null,f.prototype.actionSpace=null,f.prototype.webComponentsFile="",f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),n.implementation!=null&&Object.hasOwnProperty.call(n,"implementation")&&e.uint32(10).string(n.implementation),n.turnBased!=null&&Object.hasOwnProperty.call(n,"turnBased")&&e.uint32(16).bool(n.turnBased),n.numPlayers!=null&&Object.hasOwnProperty.call(n,"numPlayers")&&e.uint32(24).int32(n.numPlayers),n.observationSpace!=null&&Object.hasOwnProperty.call(n,"observationSpace")&&l.cogment_verse.spaces.Space.encode(n.observationSpace,e.uint32(34).fork()).ldelim(),n.actionSpace!=null&&Object.hasOwnProperty.call(n,"actionSpace")&&l.cogment_verse.spaces.Space.encode(n.actionSpace,e.uint32(42).fork()).ldelim(),n.webComponentsFile!=null&&Object.hasOwnProperty.call(n,"webComponentsFile")&&e.uint32(50).string(n.webComponentsFile),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.EnvironmentSpecs;n.pos<t;){var s=n.uint32();switch(s>>>3){case 1:{i.implementation=n.string();break}case 2:{i.turnBased=n.bool();break}case 3:{i.numPlayers=n.int32();break}case 4:{i.observationSpace=l.cogment_verse.spaces.Space.decode(n,n.uint32());break}case 5:{i.actionSpace=l.cogment_verse.spaces.Space.decode(n,n.uint32());break}case 6:{i.webComponentsFile=n.string();break}default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.implementation!=null&&n.hasOwnProperty("implementation")&&!u.isString(n.implementation))return"implementation: string expected";if(n.turnBased!=null&&n.hasOwnProperty("turnBased")&&typeof n.turnBased!="boolean")return"turnBased: boolean expected";if(n.numPlayers!=null&&n.hasOwnProperty("numPlayers")&&!u.isInteger(n.numPlayers))return"numPlayers: integer expected";if(n.observationSpace!=null&&n.hasOwnProperty("observationSpace")){var e=l.cogment_verse.spaces.Space.verify(n.observationSpace);if(e)return"observationSpace."+e}if(n.actionSpace!=null&&n.hasOwnProperty("actionSpace")){var e=l.cogment_verse.spaces.Space.verify(n.actionSpace);if(e)return"actionSpace."+e}return n.webComponentsFile!=null&&n.hasOwnProperty("webComponentsFile")&&!u.isString(n.webComponentsFile)?"webComponentsFile: string expected":null},f.fromObject=function(n){if(n instanceof l.cogment_verse.EnvironmentSpecs)return n;var e=new l.cogment_verse.EnvironmentSpecs;if(n.implementation!=null&&(e.implementation=String(n.implementation)),n.turnBased!=null&&(e.turnBased=!!n.turnBased),n.numPlayers!=null&&(e.numPlayers=n.numPlayers|0),n.observationSpace!=null){if(typeof n.observationSpace!="object")throw TypeError(".cogment_verse.EnvironmentSpecs.observationSpace: object expected");e.observationSpace=l.cogment_verse.spaces.Space.fromObject(n.observationSpace)}if(n.actionSpace!=null){if(typeof n.actionSpace!="object")throw TypeError(".cogment_verse.EnvironmentSpecs.actionSpace: object expected");e.actionSpace=l.cogment_verse.spaces.Space.fromObject(n.actionSpace)}return n.webComponentsFile!=null&&(e.webComponentsFile=String(n.webComponentsFile)),e},f.toObject=function(n,e){e||(e={});var t={};return e.defaults&&(t.implementation="",t.turnBased=!1,t.numPlayers=0,t.observationSpace=null,t.actionSpace=null,t.webComponentsFile=""),n.implementation!=null&&n.hasOwnProperty("implementation")&&(t.implementation=n.implementation),n.turnBased!=null&&n.hasOwnProperty("turnBased")&&(t.turnBased=n.turnBased),n.numPlayers!=null&&n.hasOwnProperty("numPlayers")&&(t.numPlayers=n.numPlayers),n.observationSpace!=null&&n.hasOwnProperty("observationSpace")&&(t.observationSpace=l.cogment_verse.spaces.Space.toObject(n.observationSpace,e)),n.actionSpace!=null&&n.hasOwnProperty("actionSpace")&&(t.actionSpace=l.cogment_verse.spaces.Space.toObject(n.actionSpace,e)),n.webComponentsFile!=null&&n.hasOwnProperty("webComponentsFile")&&(t.webComponentsFile=n.webComponentsFile),t},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.EnvironmentSpecs"},f}(),d.EnvironmentConfig=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.prototype.runId="",f.prototype.render=!1,f.prototype.renderWidth=0,f.prototype.seed=0,f.prototype.flatten=!1,f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),n.runId!=null&&Object.hasOwnProperty.call(n,"runId")&&e.uint32(10).string(n.runId),n.render!=null&&Object.hasOwnProperty.call(n,"render")&&e.uint32(16).bool(n.render),n.renderWidth!=null&&Object.hasOwnProperty.call(n,"renderWidth")&&e.uint32(24).int32(n.renderWidth),n.seed!=null&&Object.hasOwnProperty.call(n,"seed")&&e.uint32(32).uint32(n.seed),n.flatten!=null&&Object.hasOwnProperty.call(n,"flatten")&&e.uint32(40).bool(n.flatten),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.EnvironmentConfig;n.pos<t;){var s=n.uint32();switch(s>>>3){case 1:{i.runId=n.string();break}case 2:{i.render=n.bool();break}case 3:{i.renderWidth=n.int32();break}case 4:{i.seed=n.uint32();break}case 5:{i.flatten=n.bool();break}default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){return typeof n!="object"||n===null?"object expected":n.runId!=null&&n.hasOwnProperty("runId")&&!u.isString(n.runId)?"runId: string expected":n.render!=null&&n.hasOwnProperty("render")&&typeof n.render!="boolean"?"render: boolean expected":n.renderWidth!=null&&n.hasOwnProperty("renderWidth")&&!u.isInteger(n.renderWidth)?"renderWidth: integer expected":n.seed!=null&&n.hasOwnProperty("seed")&&!u.isInteger(n.seed)?"seed: integer expected":n.flatten!=null&&n.hasOwnProperty("flatten")&&typeof n.flatten!="boolean"?"flatten: boolean expected":null},f.fromObject=function(n){if(n instanceof l.cogment_verse.EnvironmentConfig)return n;var e=new l.cogment_verse.EnvironmentConfig;return n.runId!=null&&(e.runId=String(n.runId)),n.render!=null&&(e.render=!!n.render),n.renderWidth!=null&&(e.renderWidth=n.renderWidth|0),n.seed!=null&&(e.seed=n.seed>>>0),n.flatten!=null&&(e.flatten=!!n.flatten),e},f.toObject=function(n,e){e||(e={});var t={};return e.defaults&&(t.runId="",t.render=!1,t.renderWidth=0,t.seed=0,t.flatten=!1),n.runId!=null&&n.hasOwnProperty("runId")&&(t.runId=n.runId),n.render!=null&&n.hasOwnProperty("render")&&(t.render=n.render),n.renderWidth!=null&&n.hasOwnProperty("renderWidth")&&(t.renderWidth=n.renderWidth),n.seed!=null&&n.hasOwnProperty("seed")&&(t.seed=n.seed),n.flatten!=null&&n.hasOwnProperty("flatten")&&(t.flatten=n.flatten),t},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.EnvironmentConfig"},f}(),d.HFHubModel=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.prototype.repoId="",f.prototype.filename="",f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),n.repoId!=null&&Object.hasOwnProperty.call(n,"repoId")&&e.uint32(10).string(n.repoId),n.filename!=null&&Object.hasOwnProperty.call(n,"filename")&&e.uint32(18).string(n.filename),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.HFHubModel;n.pos<t;){var s=n.uint32();switch(s>>>3){case 1:{i.repoId=n.string();break}case 2:{i.filename=n.string();break}default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){return typeof n!="object"||n===null?"object expected":n.repoId!=null&&n.hasOwnProperty("repoId")&&!u.isString(n.repoId)?"repoId: string expected":n.filename!=null&&n.hasOwnProperty("filename")&&!u.isString(n.filename)?"filename: string expected":null},f.fromObject=function(n){if(n instanceof l.cogment_verse.HFHubModel)return n;var e=new l.cogment_verse.HFHubModel;return n.repoId!=null&&(e.repoId=String(n.repoId)),n.filename!=null&&(e.filename=String(n.filename)),e},f.toObject=function(n,e){e||(e={});var t={};return e.defaults&&(t.repoId="",t.filename=""),n.repoId!=null&&n.hasOwnProperty("repoId")&&(t.repoId=n.repoId),n.filename!=null&&n.hasOwnProperty("filename")&&(t.filename=n.filename),t},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.HFHubModel"},f}(),d.AgentConfig=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.prototype.runId="",f.prototype.environmentSpecs=null,f.prototype.seed=0,f.prototype.modelId="",f.prototype.modelIteration=0,f.prototype.modelUpdateFrequency=0,f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),n.runId!=null&&Object.hasOwnProperty.call(n,"runId")&&e.uint32(10).string(n.runId),n.environmentSpecs!=null&&Object.hasOwnProperty.call(n,"environmentSpecs")&&l.cogment_verse.EnvironmentSpecs.encode(n.environmentSpecs,e.uint32(18).fork()).ldelim(),n.seed!=null&&Object.hasOwnProperty.call(n,"seed")&&e.uint32(24).uint32(n.seed),n.modelId!=null&&Object.hasOwnProperty.call(n,"modelId")&&e.uint32(34).string(n.modelId),n.modelIteration!=null&&Object.hasOwnProperty.call(n,"modelIteration")&&e.uint32(40).int32(n.modelIteration),n.modelUpdateFrequency!=null&&Object.hasOwnProperty.call(n,"modelUpdateFrequency")&&e.uint32(48).int32(n.modelUpdateFrequency),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.AgentConfig;n.pos<t;){var s=n.uint32();switch(s>>>3){case 1:{i.runId=n.string();break}case 2:{i.environmentSpecs=l.cogment_verse.EnvironmentSpecs.decode(n,n.uint32());break}case 3:{i.seed=n.uint32();break}case 4:{i.modelId=n.string();break}case 5:{i.modelIteration=n.int32();break}case 6:{i.modelUpdateFrequency=n.int32();break}default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.runId!=null&&n.hasOwnProperty("runId")&&!u.isString(n.runId))return"runId: string expected";if(n.environmentSpecs!=null&&n.hasOwnProperty("environmentSpecs")){var e=l.cogment_verse.EnvironmentSpecs.verify(n.environmentSpecs);if(e)return"environmentSpecs."+e}return n.seed!=null&&n.hasOwnProperty("seed")&&!u.isInteger(n.seed)?"seed: integer expected":n.modelId!=null&&n.hasOwnProperty("modelId")&&!u.isString(n.modelId)?"modelId: string expected":n.modelIteration!=null&&n.hasOwnProperty("modelIteration")&&!u.isInteger(n.modelIteration)?"modelIteration: integer expected":n.modelUpdateFrequency!=null&&n.hasOwnProperty("modelUpdateFrequency")&&!u.isInteger(n.modelUpdateFrequency)?"modelUpdateFrequency: integer expected":null},f.fromObject=function(n){if(n instanceof l.cogment_verse.AgentConfig)return n;var e=new l.cogment_verse.AgentConfig;if(n.runId!=null&&(e.runId=String(n.runId)),n.environmentSpecs!=null){if(typeof n.environmentSpecs!="object")throw TypeError(".cogment_verse.AgentConfig.environmentSpecs: object expected");e.environmentSpecs=l.cogment_verse.EnvironmentSpecs.fromObject(n.environmentSpecs)}return n.seed!=null&&(e.seed=n.seed>>>0),n.modelId!=null&&(e.modelId=String(n.modelId)),n.modelIteration!=null&&(e.modelIteration=n.modelIteration|0),n.modelUpdateFrequency!=null&&(e.modelUpdateFrequency=n.modelUpdateFrequency|0),e},f.toObject=function(n,e){e||(e={});var t={};return e.defaults&&(t.runId="",t.environmentSpecs=null,t.seed=0,t.modelId="",t.modelIteration=0,t.modelUpdateFrequency=0),n.runId!=null&&n.hasOwnProperty("runId")&&(t.runId=n.runId),n.environmentSpecs!=null&&n.hasOwnProperty("environmentSpecs")&&(t.environmentSpecs=l.cogment_verse.EnvironmentSpecs.toObject(n.environmentSpecs,e)),n.seed!=null&&n.hasOwnProperty("seed")&&(t.seed=n.seed),n.modelId!=null&&n.hasOwnProperty("modelId")&&(t.modelId=n.modelId),n.modelIteration!=null&&n.hasOwnProperty("modelIteration")&&(t.modelIteration=n.modelIteration),n.modelUpdateFrequency!=null&&n.hasOwnProperty("modelUpdateFrequency")&&(t.modelUpdateFrequency=n.modelUpdateFrequency),t},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.AgentConfig"},f}(),d.TrialConfig=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.TrialConfig;n.pos<t;){var s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){return typeof n!="object"||n===null?"object expected":null},f.fromObject=function(n){return n instanceof l.cogment_verse.TrialConfig?n:new l.cogment_verse.TrialConfig},f.toObject=function(){return{}},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.TrialConfig"},f}(),d.Observation=function(){function f(n){if(this.overriddenPlayers=[],n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}f.prototype.value=null,f.prototype.currentPlayer=null,f.prototype.actionMask=null,f.prototype.renderedFrame=null,f.prototype.overriddenPlayers=u.emptyArray,f.prototype.gamePlayerName=null,f.prototype.actionValue=null;var a;return Object.defineProperty(f.prototype,"_currentPlayer",{get:u.oneOfGetter(a=["currentPlayer"]),set:u.oneOfSetter(a)}),Object.defineProperty(f.prototype,"_actionMask",{get:u.oneOfGetter(a=["actionMask"]),set:u.oneOfSetter(a)}),Object.defineProperty(f.prototype,"_renderedFrame",{get:u.oneOfGetter(a=["renderedFrame"]),set:u.oneOfSetter(a)}),Object.defineProperty(f.prototype,"_gamePlayerName",{get:u.oneOfGetter(a=["gamePlayerName"]),set:u.oneOfSetter(a)}),Object.defineProperty(f.prototype,"_actionValue",{get:u.oneOfGetter(a=["actionValue"]),set:u.oneOfSetter(a)}),f.create=function(e){return new f(e)},f.encode=function(e,t){if(t||(t=c.create()),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&l.cogment_verse.nd_array.Array.encode(e.value,t.uint32(10).fork()).ldelim(),e.currentPlayer!=null&&Object.hasOwnProperty.call(e,"currentPlayer")&&t.uint32(18).string(e.currentPlayer),e.actionMask!=null&&Object.hasOwnProperty.call(e,"actionMask")&&l.cogment_verse.nd_array.Array.encode(e.actionMask,t.uint32(26).fork()).ldelim(),e.renderedFrame!=null&&Object.hasOwnProperty.call(e,"renderedFrame")&&t.uint32(34).bytes(e.renderedFrame),e.overriddenPlayers!=null&&e.overriddenPlayers.length)for(var i=0;i<e.overriddenPlayers.length;++i)t.uint32(42).string(e.overriddenPlayers[i]);return e.gamePlayerName!=null&&Object.hasOwnProperty.call(e,"gamePlayerName")&&t.uint32(50).string(e.gamePlayerName),e.actionValue!=null&&Object.hasOwnProperty.call(e,"actionValue")&&t.uint32(56).int32(e.actionValue),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.Observation;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.value=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}case 2:{s.currentPlayer=e.string();break}case 3:{s.actionMask=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}case 4:{s.renderedFrame=e.bytes();break}case 5:{s.overriddenPlayers&&s.overriddenPlayers.length||(s.overriddenPlayers=[]),s.overriddenPlayers.push(e.string());break}case 6:{s.gamePlayerName=e.string();break}case 7:{s.actionValue=e.int32();break}default:e.skipType(p&7);break}}return s},f.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},f.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var t={};if(e.value!=null&&e.hasOwnProperty("value")){var i=l.cogment_verse.nd_array.Array.verify(e.value);if(i)return"value."+i}if(e.currentPlayer!=null&&e.hasOwnProperty("currentPlayer")&&(t._currentPlayer=1,!u.isString(e.currentPlayer)))return"currentPlayer: string expected";if(e.actionMask!=null&&e.hasOwnProperty("actionMask")){t._actionMask=1;{var i=l.cogment_verse.nd_array.Array.verify(e.actionMask);if(i)return"actionMask."+i}}if(e.renderedFrame!=null&&e.hasOwnProperty("renderedFrame")&&(t._renderedFrame=1,!(e.renderedFrame&&typeof e.renderedFrame.length=="number"||u.isString(e.renderedFrame))))return"renderedFrame: buffer expected";if(e.overriddenPlayers!=null&&e.hasOwnProperty("overriddenPlayers")){if(!Array.isArray(e.overriddenPlayers))return"overriddenPlayers: array expected";for(var s=0;s<e.overriddenPlayers.length;++s)if(!u.isString(e.overriddenPlayers[s]))return"overriddenPlayers: string[] expected"}return e.gamePlayerName!=null&&e.hasOwnProperty("gamePlayerName")&&(t._gamePlayerName=1,!u.isString(e.gamePlayerName))?"gamePlayerName: string expected":e.actionValue!=null&&e.hasOwnProperty("actionValue")&&(t._actionValue=1,!u.isInteger(e.actionValue))?"actionValue: integer expected":null},f.fromObject=function(e){if(e instanceof l.cogment_verse.Observation)return e;var t=new l.cogment_verse.Observation;if(e.value!=null){if(typeof e.value!="object")throw TypeError(".cogment_verse.Observation.value: object expected");t.value=l.cogment_verse.nd_array.Array.fromObject(e.value)}if(e.currentPlayer!=null&&(t.currentPlayer=String(e.currentPlayer)),e.actionMask!=null){if(typeof e.actionMask!="object")throw TypeError(".cogment_verse.Observation.actionMask: object expected");t.actionMask=l.cogment_verse.nd_array.Array.fromObject(e.actionMask)}if(e.renderedFrame!=null&&(typeof e.renderedFrame=="string"?u.base64.decode(e.renderedFrame,t.renderedFrame=u.newBuffer(u.base64.length(e.renderedFrame)),0):e.renderedFrame.length>=0&&(t.renderedFrame=e.renderedFrame)),e.overriddenPlayers){if(!Array.isArray(e.overriddenPlayers))throw TypeError(".cogment_verse.Observation.overriddenPlayers: array expected");t.overriddenPlayers=[];for(var i=0;i<e.overriddenPlayers.length;++i)t.overriddenPlayers[i]=String(e.overriddenPlayers[i])}return e.gamePlayerName!=null&&(t.gamePlayerName=String(e.gamePlayerName)),e.actionValue!=null&&(t.actionValue=e.actionValue|0),t},f.toObject=function(e,t){t||(t={});var i={};if((t.arrays||t.defaults)&&(i.overriddenPlayers=[]),t.defaults&&(i.value=null),e.value!=null&&e.hasOwnProperty("value")&&(i.value=l.cogment_verse.nd_array.Array.toObject(e.value,t)),e.currentPlayer!=null&&e.hasOwnProperty("currentPlayer")&&(i.currentPlayer=e.currentPlayer,t.oneofs&&(i._currentPlayer="currentPlayer")),e.actionMask!=null&&e.hasOwnProperty("actionMask")&&(i.actionMask=l.cogment_verse.nd_array.Array.toObject(e.actionMask,t),t.oneofs&&(i._actionMask="actionMask")),e.renderedFrame!=null&&e.hasOwnProperty("renderedFrame")&&(i.renderedFrame=t.bytes===String?u.base64.encode(e.renderedFrame,0,e.renderedFrame.length):t.bytes===Array?Array.prototype.slice.call(e.renderedFrame):e.renderedFrame,t.oneofs&&(i._renderedFrame="renderedFrame")),e.overriddenPlayers&&e.overriddenPlayers.length){i.overriddenPlayers=[];for(var s=0;s<e.overriddenPlayers.length;++s)i.overriddenPlayers[s]=e.overriddenPlayers[s]}return e.gamePlayerName!=null&&e.hasOwnProperty("gamePlayerName")&&(i.gamePlayerName=e.gamePlayerName,t.oneofs&&(i._gamePlayerName="gamePlayerName")),e.actionValue!=null&&e.hasOwnProperty("actionValue")&&(i.actionValue=e.actionValue,t.oneofs&&(i._actionValue="actionValue")),i},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.Observation"},f}(),d.PlayerAction=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.prototype.value=null,f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&l.cogment_verse.nd_array.Array.encode(n.value,e.uint32(10).fork()).ldelim(),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.PlayerAction;n.pos<t;){var s=n.uint32();switch(s>>>3){case 1:{i.value=l.cogment_verse.nd_array.Array.decode(n,n.uint32());break}default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.value!=null&&n.hasOwnProperty("value")){var e=l.cogment_verse.nd_array.Array.verify(n.value);if(e)return"value."+e}return null},f.fromObject=function(n){if(n instanceof l.cogment_verse.PlayerAction)return n;var e=new l.cogment_verse.PlayerAction;if(n.value!=null){if(typeof n.value!="object")throw TypeError(".cogment_verse.PlayerAction.value: object expected");e.value=l.cogment_verse.nd_array.Array.fromObject(n.value)}return e},f.toObject=function(n,e){e||(e={});var t={};return e.defaults&&(t.value=null),n.value!=null&&n.hasOwnProperty("value")&&(t.value=l.cogment_verse.nd_array.Array.toObject(n.value,e)),t},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.PlayerAction"},f}(),d.TeacherAction=function(){function f(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}f.prototype.value=null;var a;return Object.defineProperty(f.prototype,"_value",{get:u.oneOfGetter(a=["value"]),set:u.oneOfSetter(a)}),f.create=function(e){return new f(e)},f.encode=function(e,t){return t||(t=c.create()),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&l.cogment_verse.nd_array.Array.encode(e.value,t.uint32(10).fork()).ldelim(),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.TeacherAction;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.value=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},f.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},f.verify=function(e){if(typeof e!="object"||e===null)return"object expected";var t={};if(e.value!=null&&e.hasOwnProperty("value")){t._value=1;{var i=l.cogment_verse.nd_array.Array.verify(e.value);if(i)return"value."+i}}return null},f.fromObject=function(e){if(e instanceof l.cogment_verse.TeacherAction)return e;var t=new l.cogment_verse.TeacherAction;if(e.value!=null){if(typeof e.value!="object")throw TypeError(".cogment_verse.TeacherAction.value: object expected");t.value=l.cogment_verse.nd_array.Array.fromObject(e.value)}return t},f.toObject=function(e,t){t||(t={});var i={};return e.value!=null&&e.hasOwnProperty("value")&&(i.value=l.cogment_verse.nd_array.Array.toObject(e.value,t),t.oneofs&&(i._value="value")),i},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.TeacherAction"},f}(),d.ObserverAction=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.ObserverAction;n.pos<t;){var s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){return typeof n!="object"||n===null?"object expected":null},f.fromObject=function(n){return n instanceof l.cogment_verse.ObserverAction?n:new l.cogment_verse.ObserverAction},f.toObject=function(){return{}},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.ObserverAction"},f}(),d.EvaluatorAction=function(){function f(a){if(a)for(var n=Object.keys(a),e=0;e<n.length;++e)a[n[e]]!=null&&(this[n[e]]=a[n[e]])}return f.prototype.value=null,f.create=function(n){return new f(n)},f.encode=function(n,e){return e||(e=c.create()),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&l.cogment_verse.nd_array.Array.encode(n.value,e.uint32(10).fork()).ldelim(),e},f.encodeDelimited=function(n,e){return this.encode(n,e).ldelim()},f.decode=function(n,e){n instanceof r||(n=r.create(n));for(var t=e===void 0?n.len:n.pos+e,i=new l.cogment_verse.EvaluatorAction;n.pos<t;){var s=n.uint32();switch(s>>>3){case 1:{i.value=l.cogment_verse.nd_array.Array.decode(n,n.uint32());break}default:n.skipType(s&7);break}}return i},f.decodeDelimited=function(n){return n instanceof r||(n=new r(n)),this.decode(n,n.uint32())},f.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.value!=null&&n.hasOwnProperty("value")){var e=l.cogment_verse.nd_array.Array.verify(n.value);if(e)return"value."+e}return null},f.fromObject=function(n){if(n instanceof l.cogment_verse.EvaluatorAction)return n;var e=new l.cogment_verse.EvaluatorAction;if(n.value!=null){if(typeof n.value!="object")throw TypeError(".cogment_verse.EvaluatorAction.value: object expected");e.value=l.cogment_verse.nd_array.Array.fromObject(n.value)}return e},f.toObject=function(n,e){e||(e={});var t={};return e.defaults&&(t.value=null),n.value!=null&&n.hasOwnProperty("value")&&(t.value=l.cogment_verse.nd_array.Array.toObject(n.value,e)),t},f.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},f.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/cogment_verse.EvaluatorAction"},f}(),d.nd_array=function(){var f={};return f.DType=function(){var a={},n=Object.create(a);return n[a[0]="DTYPE_UNKNOWN"]=0,n[a[1]="DTYPE_FLOAT32"]=1,n[a[2]="DTYPE_FLOAT64"]=2,n[a[3]="DTYPE_INT8"]=3,n[a[4]="DTYPE_INT32"]=4,n[a[5]="DTYPE_INT64"]=5,n[a[6]="DTYPE_UINT8"]=6,n}(),f.Array=function(){function a(n){if(this.shape=[],this.doubleData=[],this.int32Data=[],this.int64Data=[],n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.dtype=0,a.prototype.shape=u.emptyArray,a.prototype.rawData=u.newBuffer([]),a.prototype.npyData=u.newBuffer([]),a.prototype.doubleData=u.emptyArray,a.prototype.int32Data=u.emptyArray,a.prototype.int64Data=u.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=c.create()),e.dtype!=null&&Object.hasOwnProperty.call(e,"dtype")&&t.uint32(8).int32(e.dtype),e.shape!=null&&e.shape.length){t.uint32(18).fork();for(var i=0;i<e.shape.length;++i)t.uint32(e.shape[i]);t.ldelim()}if(e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&t.uint32(26).bytes(e.rawData),e.npyData!=null&&Object.hasOwnProperty.call(e,"npyData")&&t.uint32(34).bytes(e.npyData),e.doubleData!=null&&e.doubleData.length){t.uint32(42).fork();for(var i=0;i<e.doubleData.length;++i)t.double(e.doubleData[i]);t.ldelim()}if(e.int32Data!=null&&e.int32Data.length){t.uint32(50).fork();for(var i=0;i<e.int32Data.length;++i)t.sint32(e.int32Data[i]);t.ldelim()}if(e.int64Data!=null&&e.int64Data.length){t.uint32(58).fork();for(var i=0;i<e.int64Data.length;++i)t.sint64(e.int64Data[i]);t.ldelim()}return t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.nd_array.Array;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.dtype=e.int32();break}case 2:{if(s.shape&&s.shape.length||(s.shape=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.shape.push(e.uint32());else s.shape.push(e.uint32());break}case 3:{s.rawData=e.bytes();break}case 4:{s.npyData=e.bytes();break}case 5:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.doubleData.push(e.double());else s.doubleData.push(e.double());break}case 6:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.int32Data.push(e.sint32());else s.int32Data.push(e.sint32());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(p&7)===2)for(var y=e.uint32()+e.pos;e.pos<y;)s.int64Data.push(e.sint64());else s.int64Data.push(e.sint64());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dtype!=null&&e.hasOwnProperty("dtype"))switch(e.dtype){default:return"dtype: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:break}if(e.shape!=null&&e.hasOwnProperty("shape")){if(!a.isArray(e.shape))return"shape: array expected";for(var t=0;t<e.shape.length;++t)if(!u.isInteger(e.shape[t]))return"shape: integer[] expected"}if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||u.isString(e.rawData)))return"rawData: buffer expected";if(e.npyData!=null&&e.hasOwnProperty("npyData")&&!(e.npyData&&typeof e.npyData.length=="number"||u.isString(e.npyData)))return"npyData: buffer expected";if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!a.isArray(e.doubleData))return"doubleData: array expected";for(var t=0;t<e.doubleData.length;++t)if(typeof e.doubleData[t]!="number")return"doubleData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!a.isArray(e.int32Data))return"int32Data: array expected";for(var t=0;t<e.int32Data.length;++t)if(!u.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!a.isArray(e.int64Data))return"int64Data: array expected";for(var t=0;t<e.int64Data.length;++t)if(!u.isInteger(e.int64Data[t])&&!(e.int64Data[t]&&u.isInteger(e.int64Data[t].low)&&u.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.nd_array.Array)return e;var t=new l.cogment_verse.nd_array.Array;switch(e.dtype){default:if(typeof e.dtype=="number"){t.dtype=e.dtype;break}break;case"DTYPE_UNKNOWN":case 0:t.dtype=0;break;case"DTYPE_FLOAT32":case 1:t.dtype=1;break;case"DTYPE_FLOAT64":case 2:t.dtype=2;break;case"DTYPE_INT8":case 3:t.dtype=3;break;case"DTYPE_INT32":case 4:t.dtype=4;break;case"DTYPE_INT64":case 5:t.dtype=5;break;case"DTYPE_UINT8":case 6:t.dtype=6;break}if(e.shape){if(!a.isArray(e.shape))throw TypeError(".cogment_verse.nd_array.Array.shape: array expected");t.shape=[];for(var i=0;i<e.shape.length;++i)t.shape[i]=e.shape[i]>>>0}if(e.rawData!=null&&(typeof e.rawData=="string"?u.base64.decode(e.rawData,t.rawData=u.newBuffer(u.base64.length(e.rawData)),0):e.rawData.length>=0&&(t.rawData=e.rawData)),e.npyData!=null&&(typeof e.npyData=="string"?u.base64.decode(e.npyData,t.npyData=u.newBuffer(u.base64.length(e.npyData)),0):e.npyData.length>=0&&(t.npyData=e.npyData)),e.doubleData){if(!a.isArray(e.doubleData))throw TypeError(".cogment_verse.nd_array.Array.doubleData: array expected");t.doubleData=[];for(var i=0;i<e.doubleData.length;++i)t.doubleData[i]=Number(e.doubleData[i])}if(e.int32Data){if(!a.isArray(e.int32Data))throw TypeError(".cogment_verse.nd_array.Array.int32Data: array expected");t.int32Data=[];for(var i=0;i<e.int32Data.length;++i)t.int32Data[i]=e.int32Data[i]|0}if(e.int64Data){if(!a.isArray(e.int64Data))throw TypeError(".cogment_verse.nd_array.Array.int64Data: array expected");t.int64Data=[];for(var i=0;i<e.int64Data.length;++i)u.Long?(t.int64Data[i]=u.Long.fromValue(e.int64Data[i])).unsigned=!1:typeof e.int64Data[i]=="string"?t.int64Data[i]=parseInt(e.int64Data[i],10):typeof e.int64Data[i]=="number"?t.int64Data[i]=e.int64Data[i]:typeof e.int64Data[i]=="object"&&(t.int64Data[i]=new u.LongBits(e.int64Data[i].low>>>0,e.int64Data[i].high>>>0).toNumber())}return t},a.toObject=function(e,t){t||(t={});var i={};if((t.arrays||t.defaults)&&(i.shape=[],i.doubleData=[],i.int32Data=[],i.int64Data=[]),t.defaults&&(i.dtype=t.enums===String?"DTYPE_UNKNOWN":0,t.bytes===String?i.rawData="":(i.rawData=[],t.bytes!==a&&(i.rawData=u.newBuffer(i.rawData))),t.bytes===String?i.npyData="":(i.npyData=[],t.bytes!==a&&(i.npyData=u.newBuffer(i.npyData)))),e.dtype!=null&&e.hasOwnProperty("dtype")&&(i.dtype=t.enums===String?l.cogment_verse.nd_array.DType[e.dtype]===void 0?e.dtype:l.cogment_verse.nd_array.DType[e.dtype]:e.dtype),e.shape&&e.shape.length){i.shape=[];for(var s=0;s<e.shape.length;++s)i.shape[s]=e.shape[s]}if(e.rawData!=null&&e.hasOwnProperty("rawData")&&(i.rawData=t.bytes===String?u.base64.encode(e.rawData,0,e.rawData.length):t.bytes===a?a.prototype.slice.call(e.rawData):e.rawData),e.npyData!=null&&e.hasOwnProperty("npyData")&&(i.npyData=t.bytes===String?u.base64.encode(e.npyData,0,e.npyData.length):t.bytes===a?a.prototype.slice.call(e.npyData):e.npyData),e.doubleData&&e.doubleData.length){i.doubleData=[];for(var s=0;s<e.doubleData.length;++s)i.doubleData[s]=t.json&&!isFinite(e.doubleData[s])?String(e.doubleData[s]):e.doubleData[s]}if(e.int32Data&&e.int32Data.length){i.int32Data=[];for(var s=0;s<e.int32Data.length;++s)i.int32Data[s]=e.int32Data[s]}if(e.int64Data&&e.int64Data.length){i.int64Data=[];for(var s=0;s<e.int64Data.length;++s)typeof e.int64Data[s]=="number"?i.int64Data[s]=t.longs===String?String(e.int64Data[s]):e.int64Data[s]:i.int64Data[s]=t.longs===String?u.Long.prototype.toString.call(e.int64Data[s]):t.longs===Number?new u.LongBits(e.int64Data[s].low>>>0,e.int64Data[s].high>>>0).toNumber():e.int64Data[s]}return i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.nd_array.Array"},a}(),f}(),d.spaces=function(){var f={};return f.Discrete=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.n=0,a.prototype.start=0,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.n!=null&&Object.hasOwnProperty.call(e,"n")&&t.uint32(8).int32(e.n),e.start!=null&&Object.hasOwnProperty.call(e,"start")&&t.uint32(16).int32(e.start),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.Discrete;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.n=e.int32();break}case 2:{s.start=e.int32();break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){return typeof e!="object"||e===null?"object expected":e.n!=null&&e.hasOwnProperty("n")&&!u.isInteger(e.n)?"n: integer expected":e.start!=null&&e.hasOwnProperty("start")&&!u.isInteger(e.start)?"start: integer expected":null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.Discrete)return e;var t=new l.cogment_verse.spaces.Discrete;return e.n!=null&&(t.n=e.n|0),e.start!=null&&(t.start=e.start|0),t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.n=0,i.start=0),e.n!=null&&e.hasOwnProperty("n")&&(i.n=e.n),e.start!=null&&e.hasOwnProperty("start")&&(i.start=e.start),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.Discrete"},a}(),f.Box=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.low=null,a.prototype.high=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.low!=null&&Object.hasOwnProperty.call(e,"low")&&l.cogment_verse.nd_array.Array.encode(e.low,t.uint32(18).fork()).ldelim(),e.high!=null&&Object.hasOwnProperty.call(e,"high")&&l.cogment_verse.nd_array.Array.encode(e.high,t.uint32(26).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.Box;e.pos<i;){var p=e.uint32();switch(p>>>3){case 2:{s.low=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}case 3:{s.high=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.low!=null&&e.hasOwnProperty("low")){var t=l.cogment_verse.nd_array.Array.verify(e.low);if(t)return"low."+t}if(e.high!=null&&e.hasOwnProperty("high")){var t=l.cogment_verse.nd_array.Array.verify(e.high);if(t)return"high."+t}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.Box)return e;var t=new l.cogment_verse.spaces.Box;if(e.low!=null){if(typeof e.low!="object")throw TypeError(".cogment_verse.spaces.Box.low: object expected");t.low=l.cogment_verse.nd_array.Array.fromObject(e.low)}if(e.high!=null){if(typeof e.high!="object")throw TypeError(".cogment_verse.spaces.Box.high: object expected");t.high=l.cogment_verse.nd_array.Array.fromObject(e.high)}return t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.low=null,i.high=null),e.low!=null&&e.hasOwnProperty("low")&&(i.low=l.cogment_verse.nd_array.Array.toObject(e.low,t)),e.high!=null&&e.hasOwnProperty("high")&&(i.high=l.cogment_verse.nd_array.Array.toObject(e.high,t)),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.Box"},a}(),f.MultiBinary=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.n=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.n!=null&&Object.hasOwnProperty.call(e,"n")&&l.cogment_verse.nd_array.Array.encode(e.n,t.uint32(10).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.MultiBinary;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.n=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.n!=null&&e.hasOwnProperty("n")){var t=l.cogment_verse.nd_array.Array.verify(e.n);if(t)return"n."+t}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.MultiBinary)return e;var t=new l.cogment_verse.spaces.MultiBinary;if(e.n!=null){if(typeof e.n!="object")throw TypeError(".cogment_verse.spaces.MultiBinary.n: object expected");t.n=l.cogment_verse.nd_array.Array.fromObject(e.n)}return t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.n=null),e.n!=null&&e.hasOwnProperty("n")&&(i.n=l.cogment_verse.nd_array.Array.toObject(e.n,t)),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.MultiBinary"},a}(),f.MultiDiscrete=function(){function a(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.nvec=null,a.create=function(e){return new a(e)},a.encode=function(e,t){return t||(t=c.create()),e.nvec!=null&&Object.hasOwnProperty.call(e,"nvec")&&l.cogment_verse.nd_array.Array.encode(e.nvec,t.uint32(10).fork()).ldelim(),t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.MultiDiscrete;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.nvec=l.cogment_verse.nd_array.Array.decode(e,e.uint32());break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.nvec!=null&&e.hasOwnProperty("nvec")){var t=l.cogment_verse.nd_array.Array.verify(e.nvec);if(t)return"nvec."+t}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.MultiDiscrete)return e;var t=new l.cogment_verse.spaces.MultiDiscrete;if(e.nvec!=null){if(typeof e.nvec!="object")throw TypeError(".cogment_verse.spaces.MultiDiscrete.nvec: object expected");t.nvec=l.cogment_verse.nd_array.Array.fromObject(e.nvec)}return t},a.toObject=function(e,t){t||(t={});var i={};return t.defaults&&(i.nvec=null),e.nvec!=null&&e.hasOwnProperty("nvec")&&(i.nvec=l.cogment_verse.nd_array.Array.toObject(e.nvec,t)),i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.MultiDiscrete"},a}(),f.Dict=function(){function a(n){if(this.spaces=[],n)for(var e=Object.keys(n),t=0;t<e.length;++t)n[e[t]]!=null&&(this[e[t]]=n[e[t]])}return a.prototype.spaces=u.emptyArray,a.create=function(e){return new a(e)},a.encode=function(e,t){if(t||(t=c.create()),e.spaces!=null&&e.spaces.length)for(var i=0;i<e.spaces.length;++i)l.cogment_verse.spaces.Dict.SubSpace.encode(e.spaces[i],t.uint32(10).fork()).ldelim();return t},a.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},a.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=t===void 0?e.len:e.pos+t,s=new l.cogment_verse.spaces.Dict;e.pos<i;){var p=e.uint32();switch(p>>>3){case 1:{s.spaces&&s.spaces.length||(s.spaces=[]),s.spaces.push(l.cogment_verse.spaces.Dict.SubSpace.decode(e,e.uint32()));break}default:e.skipType(p&7);break}}return s},a.decodeDelimited=function(e){return e instanceof r||(e=new r(e)),this.decode(e,e.uint32())},a.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.spaces!=null&&e.hasOwnProperty("spaces")){if(!Array.isArray(e.spaces))return"spaces: array expected";for(var t=0;t<e.spaces.length;++t){var i=l.cogment_verse.spaces.Dict.SubSpace.verify(e.spaces[t]);if(i)return"spaces."+i}}return null},a.fromObject=function(e){if(e instanceof l.cogment_verse.spaces.Dict)return e;var t=new l.cogment_verse.spaces.Dict;if(e.spaces){if(!Array.isArray(e.spaces))throw TypeError(".cogment_verse.spaces.Dict.spaces: array expected");t.spaces=[];for(var i=0;i<e.spaces.length;++i){if(typeof e.spaces[i]!="object")throw TypeError(".cogment_verse.spaces.Dict.spaces: object expected");t.spaces[i]=l.cogment_verse.spaces.Dict.SubSpace.fromObject(e.spaces[i])}}return t},a.toObject=function(e,t){t||(t={});var i={};if((t.arrays||t.defaults)&&(i.spaces=[]),e.spaces&&e.spaces.length){i.spaces=[];for(var s=0;s<e.spaces.length;++s)i.spaces[s]=l.cogment_verse.spaces.Dict.SubSpace.toObject(e.spaces[s],t)}return i},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/cogment_verse.spaces.Dict"},a.SubSpace=function(){function n(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}return n.prototype.key="",n.prototype.space=null,n.create=function(t){return new n(t)},n.encode=function(t,i){return i||(i=c.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&i.uint32(10).string(t.key),t.space!=null&&Object.hasOwnProperty.call(t,"space")&&l.cogment_verse.spaces.Space.encode(t.space,i.uint32(18).fork()).ldelim(),i},n.encodeDelimited=function(t,i){return this.encode(t,i).ldelim()},n.decode=function(t,i){t instanceof r||(t=r.create(t));for(var s=i===void 0?t.len:t.pos+i,p=new l.cogment_verse.spaces.Dict.SubSpace;t.pos<s;){var y=t.uint32();switch(y>>>3){case 1:{p.key=t.string();break}case 2:{p.space=l.cogment_verse.spaces.Space.decode(t,t.uint32());break}default:t.skipType(y&7);break}}return p},n.decodeDelimited=function(t){return t instanceof r||(t=new r(t)),this.decode(t,t.uint32())},n.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.key!=null&&t.hasOwnProperty("key")&&!u.isString(t.key))return"key: string expected";if(t.space!=null&&t.hasOwnProperty("space")){var i=l.cogment_verse.spaces.Space.verify(t.space);if(i)return"space."+i}return null},n.fromObject=function(t){if(t instanceof l.cogment_verse.spaces.Dict.SubSpace)return t;var i=new l.cogment_verse.spaces.Dict.SubSpace;if(t.key!=null&&(i.key=String(t.key)),t.space!=null){if(typeof t.space!="object")throw TypeError(".cogment_verse.spaces.Dict.SubSpace.space: object expected");i.space=l.cogment_verse.spaces.Space.fromObject(t.space)}return i},n.toObject=function(t,i){i||(i={});var s={};return i.defaults&&(s.key="",s.space=null),t.key!=null&&t.hasOwnProperty("key")&&(s.key=t.key),t.space!=null&&t.hasOwnProperty("space")&&(s.space=l.cogment_verse.spaces.Space.toObject(t.space,i)),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},n.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/cogment_verse.spaces.Dict.SubSpace"},n}(),a}(),f.Space=function(){function a(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)e[t[i]]!=null&&(this[t[i]]=e[t[i]])}a.prototype.discrete=null,a.prototype.box=null,a.prototype.dict=null,a.prototype.multiBinary=null,a.prototype.multiDiscrete=null;var n;return Object.defineProperty(a.prototype,"kind",{get:u.oneOfGetter(n=["discrete","box","dict","multiBinary","multiDiscrete"]),set:u.oneOfSetter(n)}),a.create=function(t){return new a(t)},a.encode=function(t,i){return i||(i=c.create()),t.discrete!=null&&Object.hasOwnProperty.call(t,"discrete")&&l.cogment_verse.spaces.Discrete.encode(t.discrete,i.uint32(10).fork()).ldelim(),t.box!=null&&Object.hasOwnProperty.call(t,"box")&&l.cogment_verse.spaces.Box.encode(t.box,i.uint32(18).fork()).ldelim(),t.dict!=null&&Object.hasOwnProperty.call(t,"dict")&&l.cogment_verse.spaces.Dict.encode(t.dict,i.uint32(26).fork()).ldelim(),t.multiBinary!=null&&Object.hasOwnProperty.call(t,"multiBinary")&&l.cogment_verse.spaces.MultiBinary.encode(t.multiBinary,i.uint32(34).fork()).ldelim(),t.multiDiscrete!=null&&Object.hasOwnProperty.call(t,"multiDiscrete")&&l.cogment_verse.spaces.MultiDiscrete.encode(t.multiDiscrete,i.uint32(42).fork()).ldelim(),i},a.encodeDelimited=function(t,i){return this.encode(t,i).ldelim()},a.decode=function(t,i){t instanceof r||(t=r.create(t));for(var s=i===void 0?t.len:t.pos+i,p=new l.cogment_verse.spaces.Space;t.pos<s;){var y=t.uint32();switch(y>>>3){case 1:{p.discrete=l.cogment_verse.spaces.Discrete.decode(t,t.uint32());break}case 2:{p.box=l.cogment_verse.spaces.Box.decode(t,t.uint32());break}case 3:{p.dict=l.cogment_verse.spaces.Dict.decode(t,t.uint32());break}case 4:{p.multiBinary=l.cogment_verse.spaces.MultiBinary.decode(t,t.uint32());break}case 5:{p.multiDiscrete=l.cogment_verse.spaces.MultiDiscrete.decode(t,t.uint32());break}default:t.skipType(y&7);break}}return p},a.decodeDelimited=function(t){return t instanceof r||(t=new r(t)),this.decode(t,t.uint32())},a.verify=function(t){if(typeof t!="object"||t===null)return"object expected";var i={};if(t.discrete!=null&&t.hasOwnProperty("discrete")){i.kind=1;{var s=l.cogment_verse.spaces.Discrete.verify(t.discrete);if(s)return"discrete."+s}}if(t.box!=null&&t.hasOwnProperty("box")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.Box.verify(t.box);if(s)return"box."+s}}if(t.dict!=null&&t.hasOwnProperty("dict")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.Dict.verify(t.dict);if(s)return"dict."+s}}if(t.multiBinary!=null&&t.hasOwnProperty("multiBinary")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.MultiBinary.verify(t.multiBinary);if(s)return"multiBinary."+s}}if(t.multiDiscrete!=null&&t.hasOwnProperty("multiDiscrete")){if(i.kind===1)return"kind: multiple values";i.kind=1;{var s=l.cogment_verse.spaces.MultiDiscrete.verify(t.multiDiscrete);if(s)return"multiDiscrete."+s}}return null},a.fromObject=function(t){if(t instanceof l.cogment_verse.spaces.Space)return t;var i=new l.cogment_verse.spaces.Space;if(t.discrete!=null){if(typeof t.discrete!="object")throw TypeError(".cogment_verse.spaces.Space.discrete: object expected");i.discrete=l.cogment_verse.spaces.Discrete.fromObject(t.discrete)}if(t.box!=null){if(typeof t.box!="object")throw TypeError(".cogment_verse.spaces.Space.box: object expected");i.box=l.cogment_verse.spaces.Box.fromObject(t.box)}if(t.dict!=null){if(typeof t.dict!="object")throw TypeError(".cogment_verse.spaces.Space.dict: object expected");i.dict=l.cogment_verse.spaces.Dict.fromObject(t.dict)}if(t.multiBinary!=null){if(typeof t.multiBinary!="object")throw TypeError(".cogment_verse.spaces.Space.multiBinary: object expected");i.multiBinary=l.cogment_verse.spaces.MultiBinary.fromObject(t.multiBinary)}if(t.multiDiscrete!=null){if(typeof t.multiDiscrete!="object")throw TypeError(".cogment_verse.spaces.Space.multiDiscrete: object expected");i.multiDiscrete=l.cogment_verse.spaces.MultiDiscrete.fromObject(t.multiDiscrete)}return i},a.toObject=function(t,i){i||(i={});var s={};return t.discrete!=null&&t.hasOwnProperty("discrete")&&(s.discrete=l.cogment_verse.spaces.Discrete.toObject(t.discrete,i),i.oneofs&&(s.kind="discrete")),t.box!=null&&t.hasOwnProperty("box")&&(s.box=l.cogment_verse.spaces.Box.toObject(t.box,i),i.oneofs&&(s.kind="box")),t.dict!=null&&t.hasOwnProperty("dict")&&(s.dict=l.cogment_verse.spaces.Dict.toObject(t.dict,i),i.oneofs&&(s.kind="dict")),t.multiBinary!=null&&t.hasOwnProperty("multiBinary")&&(s.multiBinary=l.cogment_verse.spaces.MultiBinary.toObject(t.multiBinary,i),i.oneofs&&(s.kind="multiBinary")),t.multiDiscrete!=null&&t.hasOwnProperty("multiDiscrete")&&(s.multiDiscrete=l.cogment_verse.spaces.MultiDiscrete.toObject(t.multiDiscrete,i),i.oneofs&&(s.kind="multiDiscrete")),s},a.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},a.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/cogment_verse.spaces.Space"},a}(),f}(),d}(),l})});import{useCallback as er,useState as tr}from"react";import{useCallback as xe,useState as sr}from"react";import{useEffect as ur}from"react";var U=(o,r)=>{ur(()=>(document.addEventListener(o,r),()=>{document.removeEventListener(o,r)}),[o,r])};var ut=(o,r)=>{let c=xe(u=>{u.key===o&&(r(),u.stopPropagation(),u.preventDefault())},[o,r]);U("keyup",c)},st=()=>{let[o,r]=sr(new Set),c=xe(l=>{l.stopPropagation(),l.preventDefault(),r(d=>(d.add(l.key),d))},[r]);U("keydown",c);let u=xe(l=>{l.stopPropagation(),l.preventDefault(),r(d=>(d.delete(l.key),d))},[r]);return U("keyup",u),o};import{useEffect as fr,useState as ft}from"react";var dt=(o,r=30,c=!0)=>{let[u,l]=ft(r),[d,f]=ft(null);return fr(()=>{if(c)return;let a=1e3/r,n=d!=null?Math.max(0,a-new Date().getTime()+d):0,e=setTimeout(()=>{let t=new Date().getTime(),i=d!=null?new Date().getTime()-d:a;o(i),f(t),l(1e3/i)},n);return()=>{clearTimeout(e)}},[c,r,o,d,f,l]),{currentFps:u}};var pt="teacher";var gi=window.ORCHESTRATOR_WEB_ENDPOINT,Ei=window.location.origin;import*as m from"react";import*as v from"react";function Te(){return Te=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var c=arguments[r];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o},Te.apply(this,arguments)}var Z;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Z||(Z={}));function E(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function W(o,r){if(!o){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Q(o){let{pathname:r="/",search:c="",hash:u=""}=o;return c&&c!=="?"&&(r+=c.charAt(0)==="?"?c:"?"+c),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function ee(o){let r={};if(o){let c=o.indexOf("#");c>=0&&(r.hash=o.substr(c),o=o.substr(0,c));let u=o.indexOf("?");u>=0&&(r.search=o.substr(u),o=o.substr(0,u)),o&&(r.pathname=o)}return r}var ht;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ht||(ht={}));function Y(o,r){if(r==="/")return o;if(!o.toLowerCase().startsWith(r.toLowerCase()))return null;let c=r.endsWith("/")?r.length-1:r.length,u=o.charAt(c);return u&&u!=="/"?null:o.slice(c)||"/"}function yt(o,r){r===void 0&&(r="/");let{pathname:c,search:u="",hash:l=""}=typeof o=="string"?ee(o):o;return{pathname:c?c.startsWith("/")?c:dr(c,r):r,search:pr(u),hash:hr(l)}}function dr(o,r){let c=r.replace(/\/+$/,"").split("/");return o.split("/").forEach(l=>{l===".."?c.length>1&&c.pop():l!=="."&&c.push(l)}),c.length>1?c.join("/"):"/"}function ke(o,r,c,u){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+c+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ce(o){return o.filter((r,c)=>c===0||r.route.path&&r.route.path.length>0)}function Fe(o,r,c,u){u===void 0&&(u=!1);let l;typeof o=="string"?l=ee(o):(l=Te({},o),E(!l.pathname||!l.pathname.includes("?"),ke("?","pathname","search",l)),E(!l.pathname||!l.pathname.includes("#"),ke("#","pathname","hash",l)),E(!l.search||!l.search.includes("#"),ke("#","search","hash",l)));let d=o===""||l.pathname==="",f=d?"/":l.pathname,a;if(u||f==null)a=c;else{let i=r.length-1;if(f.startsWith("..")){let s=f.split("/");for(;s[0]==="..";)s.shift(),i-=1;l.pathname=s.join("/")}a=i>=0?r[i]:"/"}let n=yt(l,a),e=f&&f!=="/"&&f.endsWith("/"),t=(d||f===".")&&c.endsWith("/");return!n.pathname.endsWith("/")&&(e||t)&&(n.pathname+="/"),n}var te=o=>o.join("/").replace(/\/\/+/g,"/");var pr=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,hr=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;var vt=["post","put","patch","delete"],Pi=new Set(vt),yr=["get",...vt],Ri=new Set(yr);var Ni=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var Ai=Symbol("deferred");function Be(){return Be=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var c=arguments[r];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o},Be.apply(this,arguments)}var ne=v.createContext(null);ne.displayName="DataRouter";var re=v.createContext(null);re.displayName="DataRouterState";var _r=v.createContext(null);_r.displayName="Await";var k=v.createContext(null);k.displayName="Navigation";var he=v.createContext(null);he.displayName="Location";var q=v.createContext({outlet:null,matches:[]});q.displayName="Route";var Or=v.createContext(null);Or.displayName="RouteError";function Dt(o,r){let{relative:c}=r===void 0?{}:r;ye()||E(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:l}=v.useContext(k),{hash:d,pathname:f,search:a}=ie(o,{relative:c}),n=f;return u!=="/"&&(n=f==="/"?u:te([u,f])),l.createHref({pathname:n,search:a,hash:d})}function ye(){return v.useContext(he)!=null}function J(){return ye()||E(!1,"useLocation() may be used only in the context of a <Router> component."),v.useContext(he).location}var bt="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wt(o){v.useContext(k).static||v.useLayoutEffect(o)}function _t(){return v.useContext(ne)!=null?Pr():gr()}function gr(){ye()||E(!1,"useNavigate() may be used only in the context of a <Router> component.");let{basename:o,navigator:r}=v.useContext(k),{matches:c}=v.useContext(q),{pathname:u}=J(),l=JSON.stringify(Ce(c).map(a=>a.pathnameBase)),d=v.useRef(!1);return wt(()=>{d.current=!0}),v.useCallback(function(a,n){if(n===void 0&&(n={}),W(d.current,bt),!d.current)return;if(typeof a=="number"){r.go(a);return}let e=Fe(a,JSON.parse(l),u,n.relative==="path");o!=="/"&&(e.pathname=e.pathname==="/"?o:te([o,e.pathname])),(n.replace?r.replace:r.push)(e,n.state,n)},[o,r,l,u])}function ie(o,r){let{relative:c}=r===void 0?{}:r,{matches:u}=v.useContext(q),{pathname:l}=J(),d=JSON.stringify(Ce(u).map(f=>f.pathnameBase));return v.useMemo(()=>Fe(o,JSON.parse(d),l,c==="path"),[o,d,l,c])}var je;(function(o){o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate"})(je||(je={}));var K;(function(o){o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId"})(K||(K={}));function Le(o){return o+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}function Er(o){let r=v.useContext(ne);return r||E(!1,Le(o)),r}function Ot(o){let r=v.useContext(re);return r||E(!1,Le(o)),r}function Sr(o){let r=v.useContext(q);return r||E(!1,Le(o)),r}function gt(o){let r=Sr(o),c=r.matches[r.matches.length-1];return c.route.id||E(!1,o+' can only be used on routes that contain a unique "id"'),c.route.id}function Et(){return gt(K.UseRouteId)}function St(){return Ot(K.UseNavigation).navigation}function Pt(){let{matches:o,loaderData:r}=Ot(K.UseMatches);return v.useMemo(()=>o.map(c=>{let{pathname:u,params:l}=c;return{id:c.route.id,pathname:u,params:l,data:r[c.route.id],handle:c.route.handle}}),[o,r])}function Pr(){let{router:o}=Er(je.UseNavigateStable),r=gt(K.UseNavigateStable),c=v.useRef(!1);return wt(()=>{c.current=!0}),v.useCallback(function(l,d){d===void 0&&(d={}),W(c.current,bt),c.current&&(typeof l=="number"?o.navigate(l):o.navigate(l,Be({fromRouteId:r},d)))},[o,r])}function Rt(o){let{basename:r="/",children:c=null,location:u,navigationType:l=Z.Pop,navigator:d,static:f=!1}=o;ye()&&E(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),n=v.useMemo(()=>({basename:a,navigator:d,static:f}),[a,d,f]);typeof u=="string"&&(u=ee(u));let{pathname:e="/",search:t="",hash:i="",state:s=null,key:p="default"}=u,y=v.useMemo(()=>{let S=Y(e,a);return S==null?null:{location:{pathname:S,search:t,hash:i,state:s,key:p},navigationType:l}},[a,e,t,i,s,p,l]);return W(y!=null,'<Router basename="'+a+'"> is not able to match the URL '+('"'+e+t+i+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),y==null?null:v.createElement(k.Provider,{value:n},v.createElement(he.Provider,{children:c,value:y}))}var mt;(function(o){o[o.pending=0]="pending",o[o.success=1]="success",o[o.error=2]="error"})(mt||(mt={}));var Li=new Promise(()=>{});function B(){return B=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var c=arguments[r];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])}return o},B.apply(this,arguments)}function Ue(o,r){if(o==null)return{};var c={},u=Object.keys(o),l,d;for(d=0;d<u.length;d++)l=u[d],!(r.indexOf(l)>=0)&&(c[l]=o[l]);return c}var me="get",Ie="application/x-www-form-urlencoded";function be(o){return o!=null&&typeof o.tagName=="string"}function Rr(o){return be(o)&&o.tagName.toLowerCase()==="button"}function Nr(o){return be(o)&&o.tagName.toLowerCase()==="form"}function Ar(o){return be(o)&&o.tagName.toLowerCase()==="input"}function xr(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function kr(o,r){return o.button===0&&(!r||r==="_self")&&!xr(o)}function Tr(o,r,c){let u,l=null,d,f;if(Nr(o)){let a=r.submissionTrigger;if(r.action)l=r.action;else{let n=o.getAttribute("action");l=n?Y(n,c):null}u=r.method||o.getAttribute("method")||me,d=r.encType||o.getAttribute("enctype")||Ie,f=new FormData(o),a&&a.name&&f.append(a.name,a.value)}else if(Rr(o)||Ar(o)&&(o.type==="submit"||o.type==="image")){let a=o.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');if(r.action)l=r.action;else{let n=o.getAttribute("formaction")||a.getAttribute("action");l=n?Y(n,c):null}u=r.method||o.getAttribute("formmethod")||a.getAttribute("method")||me,d=r.encType||o.getAttribute("formenctype")||a.getAttribute("enctype")||Ie,f=new FormData(a),o.name&&f.append(o.name,o.value)}else{if(be(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(u=r.method||me,l=r.action||null,d=r.encType||Ie,o instanceof FormData)f=o;else if(f=new FormData,o instanceof URLSearchParams)for(let[a,n]of o)f.append(a,n);else if(o!=null)for(let a of Object.keys(o))f.append(a,o[a])}return{action:l,method:u.toLowerCase(),encType:d,formData:f}}var Cr=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Fr=["aria-current","caseSensitive","className","end","style","to","children"],Br=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function jr(o){let{basename:r,children:c,history:u}=o,[l,d]=m.useState({action:u.action,location:u.location});return m.useLayoutEffect(()=>u.listen(d),[u]),m.createElement(Rt,{basename:r,children:c,location:l.location,navigationType:l.action,navigator:u})}jr.displayName="unstable_HistoryRouter";var Lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ir=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=m.forwardRef(function(r,c){let{onClick:u,relative:l,reloadDocument:d,replace:f,state:a,target:n,to:e,preventScrollReset:t}=r,i=Ue(r,Cr),{basename:s}=m.useContext(k),p,y=!1;if(typeof e=="string"&&Ir.test(e)&&(p=e,Lr))try{let O=new URL(window.location.href),F=e.startsWith("//")?new URL(O.protocol+e):new URL(e),pe=Y(F.pathname,s);F.origin===O.origin&&pe!=null?e=pe+F.search+F.hash:y=!0}catch{W(!1,'<Link to="'+e+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let S=Dt(e,{relative:l}),P=Hr(e,{replace:f,state:a,target:n,preventScrollReset:t,relative:l});function b(O){u&&u(O),O.defaultPrevented||P(O)}return m.createElement("a",B({},i,{href:p||S,onClick:y||d?u:b,ref:c,target:n}))});we.displayName="Link";var Mr=m.forwardRef(function(r,c){let{"aria-current":u="page",caseSensitive:l=!1,className:d="",end:f=!1,style:a,to:n,children:e}=r,t=Ue(r,Fr),i=ie(n,{relative:t.relative}),s=J(),p=m.useContext(re),{navigator:y}=m.useContext(k),S=y.encodeLocation?y.encodeLocation(i).pathname:i.pathname,P=s.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;l||(P=P.toLowerCase(),b=b?b.toLowerCase():null,S=S.toLowerCase());let O=P===S||!f&&P.startsWith(S)&&P.charAt(S.length)==="/",F=b!=null&&(b===S||!f&&b.startsWith(S)&&b.charAt(S.length)==="/"),pe=O?u:void 0,Ae;typeof d=="function"?Ae=d({isActive:O,isPending:F}):Ae=[d,O?"active":null,F?"pending":null].filter(Boolean).join(" ");let nr=typeof a=="function"?a({isActive:O,isPending:F}):a;return m.createElement(we,B({},t,{"aria-current":pe,className:Ae,ref:c,style:nr,to:n}),typeof e=="function"?e({isActive:O,isPending:F}):e)});Mr.displayName="NavLink";var Ur=m.forwardRef((o,r)=>m.createElement(At,B({},o,{ref:r})));Ur.displayName="Form";var At=m.forwardRef((o,r)=>{let{reloadDocument:c,replace:u,method:l=me,action:d,onSubmit:f,fetcherKey:a,routeId:n,relative:e,preventScrollReset:t}=o,i=Ue(o,Br),s=zr(a,n),p=l.toLowerCase()==="get"?"get":"post",y=Wr(d,{relative:e});return m.createElement("form",B({ref:r,method:p,action:y,onSubmit:c?f:P=>{if(f&&f(P),P.defaultPrevented)return;P.preventDefault();let b=P.nativeEvent.submitter,O=b?.getAttribute("formmethod")||l;s(b||P.currentTarget,{method:O,replace:u,relative:e,preventScrollReset:t})}},i))});At.displayName="FormImpl";function Jr(o){let{getKey:r,storageKey:c}=o;return Yr({getKey:r,storageKey:c}),null}Jr.displayName="ScrollRestoration";var De;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmitImpl="useSubmitImpl",o.UseFetcher="useFetcher"})(De||(De={}));var Me;(function(o){o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Me||(Me={}));function xt(o){return o+" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router."}function kt(o){let r=m.useContext(ne);return r||E(!1,xt(o)),r}function Vr(o){let r=m.useContext(re);return r||E(!1,xt(o)),r}function Hr(o,r){let{target:c,replace:u,state:l,preventScrollReset:d,relative:f}=r===void 0?{}:r,a=_t(),n=J(),e=ie(o,{relative:f});return m.useCallback(t=>{if(kr(t,c)){t.preventDefault();let i=u!==void 0?u:Q(n)===Q(e);a(o,{replace:i,state:l,preventScrollReset:d,relative:f})}},[n,a,e,u,l,c,o,d,f])}function zr(o,r){let{router:c}=kt(De.UseSubmitImpl),{basename:u}=m.useContext(k),l=Et();return m.useCallback(function(d,f){if(f===void 0&&(f={}),typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{action:a,method:n,encType:e,formData:t}=Tr(d,f,u),i={preventScrollReset:f.preventScrollReset,formData:t,formMethod:n,formEncType:e};o?(r==null&&E(!1,"No routeId available for useFetcher()"),c.fetch(o,r,a,i)):c.navigate(a,B({},i,{replace:f.replace,fromRouteId:l}))},[c,u,o,r,l])}function Wr(o,r){let{relative:c}=r===void 0?{}:r,{basename:u}=m.useContext(k),l=m.useContext(q);l||E(!1,"useFormAction must be used inside a RouteContext");let[d]=l.matches.slice(-1),f=B({},ie(o||".",{relative:c})),a=J();if(o==null&&(f.search=a.search,f.hash=a.hash,d.route.index)){let n=new URLSearchParams(f.search);n.delete("index"),f.search=n.toString()?"?"+n.toString():""}return(!o||o===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(f.pathname=f.pathname==="/"?u:te([u,f.pathname])),Q(f)}var Nt="react-router-scroll-positions",ve={};function Yr(o){let{getKey:r,storageKey:c}=o===void 0?{}:o,{router:u}=kt(De.UseScrollRestoration),{restoreScrollPosition:l,preventScrollReset:d}=Vr(Me.UseScrollRestoration),f=J(),a=Pt(),n=St();m.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),Kr(m.useCallback(()=>{if(n.state==="idle"){let e=(r?r(f,a):null)||f.key;ve[e]=window.scrollY}sessionStorage.setItem(c||Nt,JSON.stringify(ve)),window.history.scrollRestoration="auto"},[c,r,n.state,f,a])),typeof document<"u"&&(m.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(c||Nt);e&&(ve=JSON.parse(e))}catch{}},[c]),m.useLayoutEffect(()=>{let e=u?.enableScrollRestoration(ve,()=>window.scrollY,r);return()=>e&&e()},[u,r]),m.useLayoutEffect(()=>{if(l!==!1){if(typeof l=="number"){window.scrollTo(0,l);return}if(f.hash){let e=document.getElementById(f.hash.slice(1));if(e){e.scrollIntoView();return}}d!==!0&&window.scrollTo(0,0)}},[f,l,d]))}function Kr(o,r){let{capture:c}=r||{};m.useEffect(()=>{let u=c!=null?{capture:c}:void 0;return window.addEventListener("pagehide",o,u),()=>{window.removeEventListener("pagehide",o,u)}},[o,c])}var Je=M(oe());import{jsx as Ct}from"react/jsx-runtime";var Tt=["font-semibold","block","w-full","py-2","px-5","bg-indigo-600","disabled:bg-gray-400","hover:bg-indigo-900","text-white","disabled:text-gray-200","text-center","rounded"],Ft=({className:o,to:r,...c})=>r!=null?Ct(we,{to:r,className:(0,Je.default)(o,Tt),...c}):Ct("button",{className:(0,Je.default)(o,Tt),...c});import{useCallback as Oe,useEffect as $r,useState as Ve}from"react";var Bt="f28d05eb1eccf89b8cab498a66f530a0e4d078ffc2fdcc676b5e2194ed50ad2a",qr=`:root {
  --joystick-surface-size: 200px;
  --joystick-stick-size: 50px;

  --joystick-color: #5217b8;
  --joystick-color-active: #ffb300;
  --joystick-color-disabled: #bbb;
}

._joystick_1jpad_10 {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;

  overflow: hidden;

  height: var(--joystick-surface-size);
  width: var(--joystick-surface-size);
  border-radius: calc(var(--joystick-stick-size) / 2);
  border-color: var(--joystick-color);
  border-width: 1px;
  border-style: solid;

  transition: all 0.25s;
}

._joystick_1jpad_10 > ._stick_1jpad_28 {
  height: var(--joystick-stick-size);
  width: var(--joystick-stick-size);

  border-radius: 50%;
  background-color: var(--joystick-color);

  transition: all 0.25s;
}

._joystick_1jpad_10._active_1jpad_38 {
  border-color: var(--joystick-color-active);
}

._joystick_1jpad_10._active_1jpad_38 > ._stick_1jpad_28 {
  background-color: var(--joystick-color-active);
}

._joystick_1jpad_10._disabled_1jpad_46 {
  border-color: var(--joystick-color-disabled);
}

._joystick_1jpad_10._disabled_1jpad_46 > ._stick_1jpad_28 {
  background-color: var(--joystick-color-disabled);
}
`;(function(){if(!(typeof document>"u")&&!document.getElementById(Bt)){var o=document.createElement("style");o.id=Bt,o.textContent=qr,document.head.appendChild(o)}})();var ae={joystick:"_joystick_1jpad_10",stick:"_stick_1jpad_28",active:"_active_1jpad_38",disabled:"_disabled_1jpad_46"};var He=M(oe());import{jsx as Mt}from"react/jsx-runtime";var Gr=200,Xr=50,jt=Gr/2-Xr/2,Lt=(o,r,c)=>o.map((u,l)=>Math.max(Math.min(u,c[l]),r[l])),It=(o,r)=>o.map(c=>c*r),Ut=()=>{let[o,r]=Ve([0,0]),[c,u]=Ve(!1),l=Oe((d,f=!1)=>{r(d),u(f)},[r,u]);return{joystickPosition:o,isJoystickActive:c,setJoystickState:l}},$={position:[0,0],active:!1,onChange:([o,r],c)=>{},lowerBound:[-1,-1],upperBound:[1,1],disabled:!1},Jt=({position:o=$.position,active:r=$.active,onChange:c=$.onChange,lowerBound:u=$.lowerBound,upperBound:l=$.upperBound,disabled:d=$.disabled,...f})=>{let[a,n]=Ve(null);$r(()=>{d&&(n(null),c([0,0],!1))},[d,c,n]);let e=Oe(p=>{d||n([p.clientX,p.clientY])},[d,n]),t=Oe(()=>{n(null),c([0,0],!1)},[n,c]),i=Oe(p=>{a&&c(Lt(It([p.clientX-a[0],p.clientY-a[1]],1/jt),u,l),!0)},[a,c,u,l]),s=It(Lt(o,u,l),jt);return U("mousemove",i),U("mouseup",t),Mt("div",{className:(0,He.default)(ae.joystick,{[ae.disabled]:d,[ae.active]:r}),...f,children:Mt("div",{className:(0,He.default)(ae.stick),onMouseDown:e,style:{transform:`translate(${s[0]}px, ${s[1]}px)`}})})};var Vt=M(oe());import{jsxs as Zr}from"react/jsx-runtime";var Ht=({value:o,className:r,...c})=>Zr("div",{className:(0,Vt.default)(r,"text-sm","py-2","px-5","bg-slate-600","text-white","text-center","rounded-full"),...c,children:[o.toFixed(0).padStart(2,"0")," fps"]});var zt=M(oe());import{jsx as ze,jsxs as Qr}from"react/jsx-runtime";var Wt=({items:o,className:r,...c})=>ze("ul",{className:(0,zt.default)(r,"list-disc list-inside text-sm py-3"),children:o.filter(u=>!!u).map(([u,l],d)=>Qr("li",{children:[ze("span",{className:"font-semibold bg-indigo-200 lowercase",children:`${u}:`}),ze("span",{className:"lowercase",children:` ${l}`})]},d))});var ot=M(zn()),$n=M(Yn()),at=M(qn()),ui=ot.default.cogment_verse.nd_array.Array,X=ot.default.cogment_verse.nd_array.DType,Gn=$n.default.cogment_verse.spaces.Space,si=at.default.cogment_verse.PlayerAction,fi=at.default.cogment_verse.TeacherAction,Xn=new fi({}),di=(o,r,c)=>{let u;switch(o){case X.DTYPE_INT8:u=new Int8Array(c);break;case X.DTYPE_FLOAT32:u=new Float32Array(c);break;default:throw new Error(`Unsupported dtype [${o}]`)}let l=new Uint8Array(u.buffer);return new ui({dtype:o,shape:r,rawData:l})};var Zn=o=>{if(o.discrete)return o.discrete.n;if(o.box)return o.box.low.shape.reduce((c,u)=>u*c,1);if(o.multiBinary)return o.multiBinary.n.int32Data.reduce((c,u)=>u*c,1);if(o.multiDiscrete)return o.multiDiscrete.nvec.shape.reduce((c,u)=>u*c,1);if(o.dict)return Object.values(o.dict.spaces).reduce((r,c)=>r+Zn(c.space),0);throw new Error(`Unsupported space [${JSON.stringify(o)}]`)},pi=o=>{if(o.discrete)return X.DTYPE_INT8;if(o.box)return o.box.low.dtype;if(o.multiBinary)return o.multiBinary.n.int32Data.dtype;if(o.multiDiscrete)return o.multiDiscrete.nvec.int32Data.dtype;if(o.dict)return X.DTYPE_FLOAT64;throw new Error(`Unsupported space [${JSON.stringify(o)}]`)},it=o=>o.reduce((r,c)=>(Array.isArray(c)?r.concat(it(c)):r.push(c),r),[]),Qn=(o,r)=>{if(o.discrete){let c=new Array(o.discrete.n),u=o.discrete.start?r-o.discrete.start:r;return c.fill(0),c[u]=1,c}if(o.box||o.multiBinary||o.multiDiscrete)return it(r);if(o.dict){let c=o.dict.spaces.map(u=>Qn(u.space,r[u.key]));return it(c)}throw new Error(`Unsupported space [${JSON.stringify(o)}]`)};var hi=(o,r)=>di(pi(o),[Zn(o)],Qn(o,r));var Ne=(o,r)=>new si({value:hi(o,r)});var lt=new Gn({box:{low:{dtype:X.DTYPE_FLOAT32,shape:[2]}}}),Mo=["environments.gym.environment.Environment/LunarLanderContinuous-v2"],Uo=({sendAction:o,fps:r=20,actorClass:c,...u})=>{let l=c===pt,[d,f]=tr(!1),a=er(()=>f(P=>!P),[f]);ut("p",a);let n=st(),{joystickPosition:e,isJoystickActive:t,setJoystickState:i}=Ut(),[s,p]=tr(!1),y=er(P=>{if(t){o(Ne(lt,[e[1],-e[0]])),p(!1);return}let b=null,O=n.has("Shift");if(n.has("ArrowLeft")?(b=[0,0],b[1]=O?1:.75):n.has("ArrowRight")&&(b=[0,0],b[1]=O?-1:-.75),n.has("ArrowDown")&&(b=b||[0,0],b[0]=O?1:.25),b!=null){o(Ne(lt,b)),p(!0),i([-b[1],b[0]],!1);return}o(l?Xn:Ne(lt,[0,0])),p(!1),i([0,0],!1)},[l,n,e,t,i,p,o]),{currentFps:S}=dt(y,r,d);return React.createElement("div",{...u},React.createElement("div",{className:"flex flex-row p-5 justify-center"},React.createElement(Jt,{position:e,active:t,onChange:i,disabled:d||s})),React.createElement("div",{className:"flex flex-row gap-1"},React.createElement(Ft,{className:"flex-1",onClick:a},d?"Resume":"Pause"),React.createElement(Ht,{className:"flex-none w-fit",value:S})),React.createElement(Wt,{items:[["Left/Right Arrows","Fire left/right engine"],["Down Arrow","Fire the main engine"],["Shift","Maintain pressed for 100% power"],["p","Pause/Unpause"]]}))};export{Uo as Controls,Mo as Environments};
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

@remix-run/router/dist/router.js:
  (**
   * @remix-run/router v1.6.0
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router/dist/index.js:
  (**
   * React Router v6.11.0
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router-dom/dist/index.js:
  (**
   * React Router DOM v6.11.0
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)
*/
//# sourceMappingURL=GymLunarLanderContinuous.js.map
