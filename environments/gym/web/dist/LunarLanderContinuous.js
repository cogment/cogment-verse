import{useCallback as S,useState as h}from"react";import{Button as T,DType as R,FpsCounter as g,Joystick as O,KeyboardControlList as b,OBSERVER_ACTOR_CLASS as k,PlayObserver as x,serializePlayerAction as f,SimplePlay as E,Space as _,TEACHER_ACTOR_CLASS as K,TEACHER_NOOP_ACTION as D,useDocumentKeypressListener as F,useJoystickState as J,usePressedKeys as B,useRealTimeUpdate as H}from"@cogment/cogment-verse";import{jsx as t,jsxs as w}from"react/jsx-runtime";var p=new _({box:{low:{dtype:R.DTYPE_FLOAT32,shape:[2]}}}),I=({sendAction:s,fps:o=20,actorParams:d,...N})=>{let C=d?.className===K,[l,m]=h(!1),y=S(()=>m(A=>!A),[m]);F("p",y);let a=B(),{joystickPosition:r,isJoystickActive:c,setJoystickState:i}=J(),[P,n]=h(!1),v=S(A=>{if(c){s(f(p,[r[1],-r[0]])),n(!1);return}let e=null,u=a.has("Shift");if(a.has("ArrowLeft")?(e=[0,0],e[1]=u?1:.75):a.has("ArrowRight")&&(e=[0,0],e[1]=u?-1:-.75),a.has("ArrowDown")&&(e=e||[0,0],e[0]=u?1:.25),e!=null){s(f(p,e)),n(!0),i([-e[1],e[0]],!1);return}s(C?D:f(p,[0,0])),n(!1),i([0,0],!1)},[C,a,r,c,i,n,s]),{currentFps:L}=H(v,o,l);return w("div",{...N,children:[t("div",{className:"flex flex-row p-5 justify-center",children:t(O,{position:r,active:c,onChange:i,disabled:l||P})}),w("div",{className:"flex flex-row gap-1",children:[t(T,{className:"flex-1",onClick:y,children:l?"Resume":"Pause"}),t(g,{className:"flex-none w-fit",value:L})]}),t(b,{items:[["Left/Right Arrows","Fire left/right engine"],["Down Arrow","Fire the main engine"],["Shift","Maintain pressed for 100% power"],["p","Pause/Unpause"]]})]})},U=({actorParams:s,...o})=>s?.className===k?t(x,{actorParams:s,...o}):t(E,{actorParams:s,...o,controls:I}),V=U;export{I as LunarLanderContinuousControls,V as default};
//# sourceMappingURL=LunarLanderContinuous.js.map
